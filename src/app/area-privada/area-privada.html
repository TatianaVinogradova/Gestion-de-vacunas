<div class="area-privada-container">
  <header class="header">
    <div class="header-left">
      <h1>VacunApp</h1>
      
      <nav class="nav-buttons desktop-nav">
        <button class="nav-btn" (click)="mostrarPerfil()">Ver Perfil</button>
        <button class="nav-btn" (click)="irACalendario()">Calendario de Vacunas</button>
        <button class="nav-btn" (click)="mostrarAyuda()">Ayuda</button>
      </nav>
    </div>

    <div class="user-info desktop-user" *ngIf="usuario">
      <span>Bienvenido: {{ usuario.email }}</span>
      <button (click)="cerrarSesion()" class="logout-btn">Cerrar Sesión</button>
    </div>

    <button class="menu-btn mobile-only" (click)="toggleMenu()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="3" y1="12" x2="21" y2="12"/>
        <line x1="3" y1="6" x2="21" y2="6"/>
        <line x1="3" y1="18" x2="21" y2="18"/>
      </svg>
    </button>
  </header>

  <div class="menu-overlay mobile-only" *ngIf="menuAbierto" (click)="toggleMenu()"></div>
  <div class="side-menu mobile-only" [class.open]="menuAbierto">
    <div class="menu-header">
      <div class="user-avatar">{{ getInitials() }}</div>
      <div class="user-info-mobile">
        <p class="user-email">{{ usuario?.email }}</p>
      </div>
      <button class="close-menu" (click)="toggleMenu()">&times;</button>
    </div>

    <nav class="menu-nav">
      <button class="menu-item" (click)="mostrarPerfil()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
          <circle cx="12" cy="7" r="4"/>
        </svg>
        <span>Ver Perfil</span>
      </button>

      <button class="menu-item" (click)="irACalendario()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2"/>
          <line x1="16" y1="2" x2="16" y2="6"/>
          <line x1="8" y1="2" x2="8" y2="6"/>
          <line x1="3" y1="10" x2="21" y2="10"/>
        </svg>
        <span>Calendario de Vacunas</span>
      </button>

      <button class="menu-item" (click)="mostrarAyuda()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
          <line x1="12" y1="17" x2="12.01" y2="17"/>
        </svg>
        <span>Ayuda</span>
      </button>

      <div class="menu-divider"></div>
      
      <button class="menu-item logout" (click)="cerrarSesion()">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
          <polyline points="16 17 21 12 16 7"/>
          <line x1="21" y1="12" x2="9" y2="12"/>
        </svg>
        <span>Cerrar Sesión</span>
      </button>
    </nav>
  </div>
  
  <main class="content">
    <div class="welcome-section desktop-only">
      <h2>¡Bienvenido a tu área privada!</h2>
      <p>Has iniciado sesión correctamente.</p>
    </div>
    
    <div class="actions-section">
      <h3 class="desktop-only">Información adicional</h3>

      <div class="info-cards">

        <div class="info-card" (click)="mostrarEstadoSalud()">
          <div class="card-icon green">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
              <polyline points="22 4 12 14.01 9 11.01"/>
            </svg>
          </div>
          <div class="card-content">
          <h4>Estado de Vacunación</h4>
          <p>Mantén un registro actualizado del estado de vacunación de tu familia.</p>
        </div>
        <svg class="card-arrow mobile-only" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 18 15 12 9 6"/>
        </svg>
      </div>

        <div class="info-card" (click)="mostrarRecordatorios()">
          <div class="card-icon blue">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
              <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
            </svg>
          </div>
          <div class="card-content">
          <h4>Recordatorios</h4>
          <p>Recibe notificaciones sobre próximas vacunas y citas médicas importantes.</p>
        </div>
        <svg class="card-arrow mobile-only" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 18 15 12 9 6"/>
        </svg>
      </div>

        <div class="info-card" (click)="mostrarHistorial()">
          <div class="card-icon purple">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
              <polyline points="14 2 14 8 20 8"/>
              <line x1="16" y1="13" x2="8" y2="13"/>
              <line x1="16" y1="17" x2="8" y2="17"/>
            </svg>
          </div>
          <div class="card-content">
          <h4>Historial</h4>
          <p>Accede al historial completo de vacunaciones de cada miembro de la familia.</p>
        </div>
        <svg class="card-arrow mobile-only" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 18 15 12 9 6"/>
        </svg>
      </div>

      <!-- Tomar Foto -->
      
    </div>
  </div>
</main>

<div class="modal-overlay" *ngIf="mostrarModalFoto" (click)="cerrarModalFoto()">
  <div class="modal-content modal-opciones" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>Agregar Documentación</h2>
      <button class="close-btn" (click)="cerrarModalFoto()">&times;</button>
    </div>
    <div class="modal-body modal-opciones-body">
      <p class="modal-description">Elige cómo deseas agregar tu cartilla de vacunación:</p>
      
      <div class="opciones-foto">
        <button class="opcion-btn opcion-camara" (click)="tomarFotoConCamara()">
          <div class="opcion-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
              <circle cx="12" cy="13" r="4"/>
            </svg>
          </div>
          <div class="opcion-text">
            <h3>Tomar Foto</h3>
            <p>Usa la cámara ahora</p>
          </div>
        </button>
        <button class="opcion-btn opcion-archivo" (click)="subirDocumento()">
          <div class="opcion-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
              <polyline points="17 8 12 3 7 8"/>
              <line x1="12" y1="3" x2="12" y2="15"/>
            </svg>
          </div>
          <div class="opcion-text">
            <h3>Subir Archivo</h3>
            <p>Desde galería o archivos</p>
          </div>
        </button>
      </div>
    </div>
  </div>
</div>
  

  <!-- Modal para el perfil -->
  <div class="modal-overlay" *ngIf="mostrarModalPerfil" (click)="cerrarPerfil()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h2>Perfiles Familiares</h2>
        <button class="close-btn" (click)="cerrarPerfil()">&times;</button>
      </div>
      <div class="modal-body">
        <app-perfil></app-perfil>
      </div>
    </div>
  </div>


  <!-- Modal para estado de salud -->
<div class="modal-overlay" *ngIf="mostrarModalEstadoSalud" (click)="cerrarEstadoSalud()">
  <div class="modal-content large" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>Estado de Vacunación</h2>
      <button class="close-btn" (click)="cerrarEstadoSalud()">&times;</button>
    </div>
    <div class="modal-body">
      <div class="documento-subido" *ngIf="photoUrl">
        <h3>Documento Cargado</h3>
        <div class="documento-preview">
          <img [src]="photoUrl" alt="Cartilla de vacunación" />
          <button class="btn-eliminar" (click)="eliminarFoto()">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6"/>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
            </svg>
            Eliminar documento
          </button>
        </div>
      </div>
      <app-estado-de-vacunacion></app-estado-de-vacunacion>
    </div>
  </div>
</div>


<!-- Modal para calendario de vacunas -->
<div class="modal-overlay" *ngIf="mostrarModalCalendario" (click)="cerrarCalendario()">
  <div class="modal-content extra-large" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>Calendario Oficial de Vacunación</h2>
      <button class="close-btn" (click)="cerrarCalendario()">&times;</button>
    </div>
    <div class="modal-body">
      <app-calendario-de-vacunas></app-calendario-de-vacunas>
    </div>
  </div>
</div>



  