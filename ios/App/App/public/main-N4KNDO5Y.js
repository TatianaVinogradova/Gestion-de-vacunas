import{A as st,B as at,C as kn,D as Nn,E as bt,F as M,G as gt,H as Ut,I as qt,J as Bt,K as ft,L as jt,M as $t,N as ho,O as fo,P as xn,Q as po,R as Vn,S as mo,T as go,U as _o,V as ze,a as io,b as oo,c as ao,d as uo,e as co,f as Ht,g as lo,h as vn,i as En,j as An,k as bn,l as Sn,m as Fr,n as ce,o as Be,p as je,q as Lt,r as le,s as Rn,t as Mr,u as At,v as rt,w as Pn,x as Cn,y as $e,z as Dn}from"./chunk-CUOBZ6KD.js";import{$ as Mt,$a as kr,Ba as Zi,C as Sr,Da as to,G as Rr,Ga as Dr,H as Wi,K as Qi,Ka as eo,N as Hi,P as Xi,Pb as Vr,Q as Pr,Qb as Or,Ra as dt,V as Cr,Y as Ft,Z as mt,_ as qe,a as Le,ab as Nr,b as br,bb as xr,d as b,ia as ht,jb as no,kb as ro,na as Yi,oa as Ji,ra as H,s as Ue,ub as so,w as ae,y as Ki,ya as ue}from"./chunk-Z25VUDG2.js";var yo=(n,t)=>{let r=qe(ze),i=qe(Ht);return r.user$.pipe(Rr(1),ae(a=>a?!0:(i.navigate(["/login"]),!1)))},wo=(n,t)=>{let r=qe(ze),i=qe(Ht);return r.user$.pipe(Rr(1),ae(a=>a?(i.navigate(["/area-privada"]),!1):!0))};var To=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-2AKGLKCM.js").then(n=>n.Registracion),canActivate:[wo]},{path:"area-privada",loadComponent:()=>import("./chunk-HU2L4VHJ.js").then(n=>n.AreaPrivada),canActivate:[yo]},{path:"**",redirectTo:"/login"},{path:"perfil",loadComponent:()=>import("./chunk-CFUR4XHX.js").then(n=>n.Perfil),canActivate:[]}];var Eo="@firebase/installations",Br="0.6.18";var Ao=1e4,bo=`w:${Br}`,So="FIS_v2",pc="https://firebaseinstallations.googleapis.com/v1",mc=3600*1e3,gc="installations",_c="Installations";var yc={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Yt=new le(gc,_c,yc);function Ro(n){return n instanceof Lt&&n.code.includes("request-failed")}function Po({projectId:n}){return`${pc}/projects/${n}/installations`}function Co(n){return{token:n.token,requestStatus:2,expiresIn:Tc(n.expiresIn),creationTime:Date.now()}}function Do(n,t){return b(this,null,function*(){let i=(yield t.json()).error;return Yt.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})}function ko({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function wc(n,{refreshToken:t}){let r=ko(n);return r.append("Authorization",Ic(t)),r}function No(n){return b(this,null,function*(){let t=yield n();return t.status>=500&&t.status<600?n():t})}function Tc(n){return Number(n.replace("s","000"))}function Ic(n){return`${So} ${n}`}function vc(i,a){return b(this,arguments,function*({appConfig:n,heartbeatServiceProvider:t},{fid:r}){let c=Po(n),f=ko(n),_=t.getImmediate({optional:!0});if(_){let R=yield _.getHeartbeatsHeader();R&&f.append("x-firebase-client",R)}let I={fid:r,authVersion:So,appId:n.appId,sdkVersion:bo},A={method:"POST",headers:f,body:JSON.stringify(I)},v=yield No(()=>fetch(c,A));if(v.ok){let R=yield v.json();return{fid:R.fid||r,registrationStatus:2,refreshToken:R.refreshToken,authToken:Co(R.authToken)}}else throw yield Do("Create Installation",v)})}function xo(n){return new Promise(t=>{setTimeout(t,n)})}function Ec(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var Ac=/^[cdef][\w-]{21}$/,qr="";function bc(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let r=Sc(n);return Ac.test(r)?r:qr}catch{return qr}}function Sc(n){return Ec(n).substr(0,22)}function Fn(n){return`${n.appName}!${n.appId}`}var Vo=new Map;function Oo(n,t){let r=Fn(n);Fo(r,t),Rc(r,t)}function Fo(n,t){let r=Vo.get(n);if(r)for(let i of r)i(t)}function Rc(n,t){let r=Pc();r&&r.postMessage({key:n,fid:t}),Cc()}var Xt=null;function Pc(){return!Xt&&"BroadcastChannel"in self&&(Xt=new BroadcastChannel("[Firebase] FID Change"),Xt.onmessage=n=>{Fo(n.data.key,n.data.fid)}),Xt}function Cc(){Vo.size===0&&Xt&&(Xt.close(),Xt=null)}var Dc="firebase-installations-database",kc=1,Jt="firebase-installations-store",Lr=null;function jr(){return Lr||(Lr=$e(Dc,kc,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(Jt)}}})),Lr}function On(n,t){return b(this,null,function*(){let r=Fn(n),a=(yield jr()).transaction(Jt,"readwrite"),c=a.objectStore(Jt),f=yield c.get(r);return yield c.put(t,r),yield a.done,(!f||f.fid!==t.fid)&&Oo(n,t.fid),t})}function Mo(n){return b(this,null,function*(){let t=Fn(n),i=(yield jr()).transaction(Jt,"readwrite");yield i.objectStore(Jt).delete(t),yield i.done})}function Mn(n,t){return b(this,null,function*(){let r=Fn(n),a=(yield jr()).transaction(Jt,"readwrite"),c=a.objectStore(Jt),f=yield c.get(r),_=t(f);return _===void 0?yield c.delete(r):yield c.put(_,r),yield a.done,_&&(!f||f.fid!==_.fid)&&Oo(n,_.fid),_})}function $r(n){return b(this,null,function*(){let t,r=yield Mn(n.appConfig,i=>{let a=Nc(i),c=xc(n,a);return t=c.registrationPromise,c.installationEntry});return r.fid===qr?{installationEntry:yield t}:{installationEntry:r,registrationPromise:t}})}function Nc(n){let t=n||{fid:bc(),registrationStatus:0};return Lo(t)}function xc(n,t){if(t.registrationStatus===0){if(!navigator.onLine){let a=Promise.reject(Yt.create("app-offline"));return{installationEntry:t,registrationPromise:a}}let r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=Vc(n,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Oc(n)}:{installationEntry:t}}function Vc(n,t){return b(this,null,function*(){try{let r=yield vc(n,t);return On(n.appConfig,r)}catch(r){throw Ro(r)&&r.customData.serverCode===409?yield Mo(n.appConfig):yield On(n.appConfig,{fid:t.fid,registrationStatus:0}),r}})}function Oc(n){return b(this,null,function*(){let t=yield Io(n.appConfig);for(;t.registrationStatus===1;)yield xo(100),t=yield Io(n.appConfig);if(t.registrationStatus===0){let{installationEntry:r,registrationPromise:i}=yield $r(n);return i||r}return t})}function Io(n){return Mn(n,t=>{if(!t)throw Yt.create("installation-not-found");return Lo(t)})}function Lo(n){return Fc(n)?{fid:n.fid,registrationStatus:0}:n}function Fc(n){return n.registrationStatus===1&&n.registrationTime+Ao<Date.now()}function Mc(i,a){return b(this,arguments,function*({appConfig:n,heartbeatServiceProvider:t},r){let c=Lc(n,r),f=wc(n,r),_=t.getImmediate({optional:!0});if(_){let R=yield _.getHeartbeatsHeader();R&&f.append("x-firebase-client",R)}let I={installation:{sdkVersion:bo,appId:n.appId}},A={method:"POST",headers:f,body:JSON.stringify(I)},v=yield No(()=>fetch(c,A));if(v.ok){let R=yield v.json();return Co(R)}else throw yield Do("Generate Auth Token",v)})}function Lc(n,{fid:t}){return`${Po(n)}/${t}/authTokens:generate`}function zr(n,t=!1){return b(this,null,function*(){let r,i=yield Mn(n.appConfig,c=>{if(!Uo(c))throw Yt.create("not-registered");let f=c.authToken;if(!t&&Bc(f))return c;if(f.requestStatus===1)return r=Uc(n,t),c;{if(!navigator.onLine)throw Yt.create("app-offline");let _=$c(c);return r=qc(n,_),_}});return r?yield r:i.authToken})}function Uc(n,t){return b(this,null,function*(){let r=yield vo(n.appConfig);for(;r.authToken.requestStatus===1;)yield xo(100),r=yield vo(n.appConfig);let i=r.authToken;return i.requestStatus===0?zr(n,t):i})}function vo(n){return Mn(n,t=>{if(!Uo(t))throw Yt.create("not-registered");let r=t.authToken;return zc(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function qc(n,t){return b(this,null,function*(){try{let r=yield Mc(n,t),i=Object.assign(Object.assign({},t),{authToken:r});return yield On(n.appConfig,i),r}catch(r){if(Ro(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))yield Mo(n.appConfig);else{let i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield On(n.appConfig,i)}throw r}})}function Uo(n){return n!==void 0&&n.registrationStatus===2}function Bc(n){return n.requestStatus===2&&!jc(n)}function jc(n){let t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+mc}function $c(n){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function zc(n){return n.requestStatus===1&&n.requestTime+Ao<Date.now()}function Gc(n){return b(this,null,function*(){let t=n,{installationEntry:r,registrationPromise:i}=yield $r(t);return i?i.catch(console.error):zr(t).catch(console.error),r.fid})}function Kc(n,t=!1){return b(this,null,function*(){let r=n;return yield Wc(r),(yield zr(r,t)).token})}function Wc(n){return b(this,null,function*(){let{registrationPromise:t}=yield $r(n);t&&(yield t)})}function Qc(n){if(!n||!n.options)throw Ur("App Configuration");if(!n.name)throw Ur("App Name");let t=["projectId","apiKey","appId"];for(let r of t)if(!n.options[r])throw Ur(r);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Ur(n){return Yt.create("missing-app-config-values",{valueName:n})}var qo="installations",Hc="installations-internal",Xc=n=>{let t=n.getProvider("app").getImmediate(),r=Qc(t),i=at(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Yc=n=>{let t=n.getProvider("app").getImmediate(),r=at(t,qo).getImmediate();return{getId:()=>Gc(r),getToken:a=>Kc(r,a)}};function Jc(){st(new rt(qo,Xc,"PUBLIC")),st(new rt(Hc,Yc,"PRIVATE"))}Jc();M(Eo,Br);M(Eo,Br,"esm2017");var Ln="analytics",Zc="firebase_id",tl="origin",el=60*1e3,nl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yr="https://www.googletagmanager.com/gtag/js";var J=new Cn("@firebase/analytics");var rl={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},it=new le("analytics","Analytics",rl);function sl(n){if(!n.startsWith(Yr)){let t=it.create("invalid-gtag-resource",{gtagURL:n});return J.warn(t.message),""}return n}function Wo(n){return Promise.all(n.map(t=>t.catch(r=>r)))}function il(n,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(n,t)),r}function ol(n,t){let r=il("firebase-js-sdk-policy",{createScriptURL:sl}),i=document.createElement("script"),a=`${Yr}?l=${n}&id=${t}`;i.src=r?r?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function al(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}function ul(n,t,r,i,a,c){return b(this,null,function*(){let f=i[a];try{if(f)yield t[f];else{let I=(yield Wo(r)).find(A=>A.measurementId===a);I&&(yield t[I.appId])}}catch(_){J.error(_)}n("config",a,c)})}function cl(n,t,r,i,a){return b(this,null,function*(){try{let c=[];if(a&&a.send_to){let f=a.send_to;Array.isArray(f)||(f=[f]);let _=yield Wo(r);for(let I of f){let A=_.find(R=>R.measurementId===I),v=A&&t[A.appId];if(v)c.push(v);else{c=[];break}}}c.length===0&&(c=Object.values(t)),yield Promise.all(c),n("event",i,a||{})}catch(c){J.error(c)}})}function ll(n,t,r,i){function a(c,...f){return b(this,null,function*(){try{if(c==="event"){let[_,I]=f;yield cl(n,t,r,_,I)}else if(c==="config"){let[_,I]=f;yield ul(n,t,r,i,_,I)}else if(c==="consent"){let[_,I]=f;n("consent",_,I)}else if(c==="get"){let[_,I,A]=f;n("get",_,I,A)}else if(c==="set"){let[_]=f;n("set",_)}else n(c,...f)}catch(_){J.error(_)}})}return a}function hl(n,t,r,i,a){let c=function(...f){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(c=window[a]),window[a]=ll(c,n,t,r),{gtagCore:c,wrappedGtag:window[a]}}function dl(n){let t=window.document.getElementsByTagName("script");for(let r of Object.values(t))if(r.src&&r.src.includes(Yr)&&r.src.includes(n))return r;return null}var fl=30,pl=1e3,Kr=class{constructor(t={},r=pl){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}},Qo=new Kr;function ml(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function gl(n){return b(this,null,function*(){var t;let{appId:r,apiKey:i}=n,a={method:"GET",headers:ml(i)},c=nl.replace("{app-id}",r),f=yield fetch(c,a);if(f.status!==200&&f.status!==304){let _="";try{let I=yield f.json();!((t=I.error)===null||t===void 0)&&t.message&&(_=I.error.message)}catch{}throw it.create("config-fetch-failed",{httpStatus:f.status,responseMessage:_})}return f.json()})}function _l(i){return b(this,arguments,function*(n,t=Qo,r){let{appId:a,apiKey:c,measurementId:f}=n.options;if(!a)throw it.create("no-app-id");if(!c){if(f)return{measurementId:f,appId:a};throw it.create("no-api-key")}let _=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},I=new Wr;return setTimeout(()=>b(null,null,function*(){I.abort()}),r!==void 0?r:el),Ho({appId:a,apiKey:c,measurementId:f},_,I,t)})}function Ho(c,f,_){return b(this,arguments,function*(n,{throttleEndTimeMillis:t,backoffCount:r},i,a=Qo){var I;let{appId:A,measurementId:v}=n;try{yield yl(i,t)}catch(R){if(v)return J.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${v} provided in the "measurementId" field in the local Firebase config. [${R?.message}]`),{appId:A,measurementId:v};throw R}try{let R=yield gl(n);return a.deleteThrottleMetadata(A),R}catch(R){let S=R;if(!wl(S)){if(a.deleteThrottleMetadata(A),v)return J.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${v} provided in the "measurementId" field in the local Firebase config. [${S?.message}]`),{appId:A,measurementId:v};throw R}let O=Number((I=S?.customData)===null||I===void 0?void 0:I.httpStatus)===503?Mr(r,a.intervalMillis,fl):Mr(r,a.intervalMillis),P={throttleEndTimeMillis:Date.now()+O,backoffCount:r+1};return a.setThrottleMetadata(A,P),J.debug(`Calling attemptFetch again in ${O} millis`),Ho(n,P,i,a)}})}function yl(n,t){return new Promise((r,i)=>{let a=Math.max(t-Date.now(),0),c=setTimeout(r,a);n.addEventListener(()=>{clearTimeout(c),i(it.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function wl(n){if(!(n instanceof Lt)||!n.customData)return!1;let t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}var Wr=class{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}};var Qr;function Tl(n,t,r,i,a){return b(this,null,function*(){if(a&&a.global){n("event",r,i);return}else{let c=yield t,f=Object.assign(Object.assign({},i),{send_to:c});n("event",r,f)}})}function Il(n,t,r,i){return b(this,null,function*(){if(i&&i.global)return n("set",{user_id:r}),Promise.resolve();{let a=yield t;n("config",a,{update:!0,user_id:r})}})}var Hr;function vl(n){Hr=n}function El(n){Qr=n}function Al(){return b(this,null,function*(){if(ce())try{yield Be()}catch(n){return J.warn(it.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return J.warn(it.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function bl(n,t,r,i,a,c,f){return b(this,null,function*(){var _;let I=_l(n);I.then(O=>{r[O.measurementId]=O.appId,n.options.measurementId&&O.measurementId!==n.options.measurementId&&J.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>J.error(O)),t.push(I);let A=Al().then(O=>{if(O)return i.getId()}),[v,R]=yield Promise.all([I,A]);dl(c)||ol(c,v.measurementId),Hr&&(a("consent","default",Hr),vl(void 0)),a("js",new Date);let S=(_=f?.config)!==null&&_!==void 0?_:{};return S[tl]="firebase",S.update=!0,R!=null&&(S[Zc]=R),a("config",v.measurementId,S),Qr&&(a("set",Qr),El(void 0)),v.measurementId})}var Xr=class{constructor(t){this.app=t}_delete(){return delete he[this.app.options.appId],Promise.resolve()}},he={},Bo=[],jo={},Gr="dataLayer",Sl="gtag",$o,Jr,zo=!1;function Rl(){let n=[];if(Fr()&&n.push("This is a browser extension environment."),je()||n.push("Cookies are not available."),n.length>0){let t=n.map((i,a)=>`(${a+1}) ${i}`).join(" "),r=it.create("invalid-analytics-context",{errorInfo:t});J.warn(r.message)}}function Pl(n,t,r){Rl();let i=n.options.appId;if(!i)throw it.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)J.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw it.create("no-api-key");if(he[i]!=null)throw it.create("already-exists",{id:i});if(!zo){al(Gr);let{wrappedGtag:c,gtagCore:f}=hl(he,Bo,jo,Gr,Sl);Jr=c,$o=f,zo=!0}return he[i]=bl(n,Bo,jo,t,$o,Gr,r),new Xr(n)}function Xo(n=bt()){n=At(n);let t=at(n,Ln);return t.isInitialized()?t.getImmediate():Yo(n)}function Yo(n,t={}){let r=at(n,Ln);if(r.isInitialized()){let a=r.getImmediate();if(Rn(t,r.getOptions()))return a;throw it.create("already-initialized")}return r.initialize({options:t})}function Jo(){return b(this,null,function*(){if(Fr()||!je()||!ce())return!1;try{return yield Be()}catch{return!1}})}function Zo(n,t,r){n=At(n),Il(Jr,he[n.app.options.appId],t,r).catch(i=>J.error(i))}function Zr(n,t,r,i){n=At(n),Tl(Jr,he[n.app.options.appId],t,r,i).catch(a=>J.error(a))}var Go="@firebase/analytics",Ko="0.10.17";function Cl(){st(new rt(Ln,(t,{options:r})=>{let i=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return Pl(i,a,r)},"PUBLIC")),st(new rt("analytics-internal",n,"PRIVATE")),M(Go,Ko),M(Go,Ko,"esm2017");function n(t){try{let r=t.getProvider(Ln).getImmediate();return{logEvent:(i,a,c)=>Zr(r,i,a,c)}}catch(r){throw it.create("interop-component-reg-failed",{reason:r})}}}Cl();var Zt=class{constructor(t){return t}},na="analytics",es=class{constructor(){return qt(na)}};var ra=ft(Xo,!0);var sa=ft(Jo,!1),Nl=ft(Zr,!1,2);var xl=ft(Zo,!0,2);var rs=(()=>{class n{initialized;disposables=[];constructor(r,i,a){M("angularfire",gt.full,"user-tracking");let c;this.initialized=i.runOutsideAngular(()=>new Promise(f=>{c=f})),sa().then(()=>{let f=a.get(Zt);f?this.disposables=[go(r).subscribe(_=>{xl(f,_?.uid),c()})]:c()})}ngOnDestroy(){this.disposables.forEach(r=>r.unsubscribe())}static \u0275fac=function(i){return new(i||n)(mt(po),mt(dt),mt(ht))};static \u0275prov=Cr({token:n,factory:n.\u0275fac})}return n})(),Vl="firebase_event_origin",Ol="firebase_previous_class",Fl="firebase_previous_id",Ml="firebase_previous_screen",Ll="firebase_screen_class",ta="firebase_screen_id",Ul="firebase_screen",ns="outlet",ql="page_path",Bl="page_title",Ge="screen_class",ea="screen_name",jl="screen_view",$l="auto",zl="#",Gl=Math.floor(Math.random()*(2**32-1))-2**31,ts={},Kl=n=>{let t=[n[Ge],n[ns]].join(zl);if(ts.hasOwnProperty(t))return ts[t];{let r=Gl++;return ts[t]=r,r}},Wl=(n,t,r)=>n.events.pipe(Sr(a=>a instanceof ao)).pipe(Pr(a=>{let f=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,S=>S.replace("://",":///"))).root.children[a.snapshot.outlet]?.toString()||"",_=n.routerState.root.children.map(S=>S).find(S=>S.outlet===a.snapshot.outlet);if(!_)return Ue(null);let I=_;for(;I.firstChild;)I=I.firstChild;let A=I.pathFromRoot.map(S=>S.routeConfig?.path).filter(S=>S).join("/")||"/",v={[ea]:A,[ql]:`/${f}`,[Vl]:$l,[Ul]:A,[ns]:a.snapshot.outlet};t&&(v[Bl]=t.getTitle());let R=_.component;if(R){if(R===co){let S=a.snapshot;for(;S.firstChild;)S=S.firstChild;R=S.component}}else R=a.snapshot.component;if(typeof R=="string")return Ue(br(Le({},v),{[Ge]:R}));if(R){let S=r.resolveComponentFactory(R);return Ue(br(Le({},v),{[Ge]:S.selector}))}return Ue(null)}),Sr(a=>!!a),ae(a=>Le({[Ll]:a[Ge],[ta]:Kl(a)},a)),Qi(a=>a[ns]),Ki(a=>a.pipe(Wi((c,f)=>JSON.stringify(c)===JSON.stringify(f)),Xi(void 0),Hi(),ae(([c,f])=>c?Le({[Ol]:c[Ge],[Ml]:c[ea],[Fl]:c[ta]},f):f)))),ia=(()=>{class n{disposable;constructor(r,i,a,c,f,_){M("angularfire",gt.full,"screen-tracking"),sa().then(()=>{let I=_.get(Zt);!r||!I||c.runOutsideAngular(()=>{this.disposable=Wl(r,i,a).pipe(Pr(A=>b(this,null,function*(){return f&&(yield f.initialized),Nl(I,jl,A)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(i){return new(i||n)(mt(Ht,8),mt(oo,8),mt(to),mt(dt),mt(rs,8),mt(ht))};static \u0275prov=Cr({token:n,factory:n.\u0275fac})}return n})(),ss=new Ft("angularfire2.analytics-instances");function Ql(n,t,r){if(!Vr(r))return null;let i=Ut(na,n,t);return i&&new Zt(i)}function Hl(n){return(t,r,i)=>{if(!Vr(i))return null;let a=t.runOutsideAngular(()=>n(r));return new Zt(a)}}var Xl={provide:es,deps:[[new H,ss]]},Yl={provide:Zt,useFactory:Ql,deps:[[new H,ss],jt,ue]};function oa(n,...t){return M("angularfire",gt.full,"analytics"),Mt([Yl,Xl,{provide:ss,useFactory:Hl(n),multi:!0,deps:[dt,ht,ue,Bt,$t,...t]}])}var aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ua={};var Un,ca;(function(){var n;function t(y,l){function d(){}d.prototype=l.prototype,y.D=l.prototype,y.prototype=new d,y.prototype.constructor=y,y.C=function(p,m,w){for(var h=Array(arguments.length-2),It=2;It<arguments.length;It++)h[It-2]=arguments[It];return l.prototype[m].apply(p,h)}}function r(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,r),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(y,l,d){d||(d=0);var p=Array(16);if(typeof l=="string")for(var m=0;16>m;++m)p[m]=l.charCodeAt(d++)|l.charCodeAt(d++)<<8|l.charCodeAt(d++)<<16|l.charCodeAt(d++)<<24;else for(m=0;16>m;++m)p[m]=l[d++]|l[d++]<<8|l[d++]<<16|l[d++]<<24;l=y.g[0],d=y.g[1],m=y.g[2];var w=y.g[3],h=l+(w^d&(m^w))+p[0]+3614090360&4294967295;l=d+(h<<7&4294967295|h>>>25),h=w+(m^l&(d^m))+p[1]+3905402710&4294967295,w=l+(h<<12&4294967295|h>>>20),h=m+(d^w&(l^d))+p[2]+606105819&4294967295,m=w+(h<<17&4294967295|h>>>15),h=d+(l^m&(w^l))+p[3]+3250441966&4294967295,d=m+(h<<22&4294967295|h>>>10),h=l+(w^d&(m^w))+p[4]+4118548399&4294967295,l=d+(h<<7&4294967295|h>>>25),h=w+(m^l&(d^m))+p[5]+1200080426&4294967295,w=l+(h<<12&4294967295|h>>>20),h=m+(d^w&(l^d))+p[6]+2821735955&4294967295,m=w+(h<<17&4294967295|h>>>15),h=d+(l^m&(w^l))+p[7]+4249261313&4294967295,d=m+(h<<22&4294967295|h>>>10),h=l+(w^d&(m^w))+p[8]+1770035416&4294967295,l=d+(h<<7&4294967295|h>>>25),h=w+(m^l&(d^m))+p[9]+2336552879&4294967295,w=l+(h<<12&4294967295|h>>>20),h=m+(d^w&(l^d))+p[10]+4294925233&4294967295,m=w+(h<<17&4294967295|h>>>15),h=d+(l^m&(w^l))+p[11]+2304563134&4294967295,d=m+(h<<22&4294967295|h>>>10),h=l+(w^d&(m^w))+p[12]+1804603682&4294967295,l=d+(h<<7&4294967295|h>>>25),h=w+(m^l&(d^m))+p[13]+4254626195&4294967295,w=l+(h<<12&4294967295|h>>>20),h=m+(d^w&(l^d))+p[14]+2792965006&4294967295,m=w+(h<<17&4294967295|h>>>15),h=d+(l^m&(w^l))+p[15]+1236535329&4294967295,d=m+(h<<22&4294967295|h>>>10),h=l+(m^w&(d^m))+p[1]+4129170786&4294967295,l=d+(h<<5&4294967295|h>>>27),h=w+(d^m&(l^d))+p[6]+3225465664&4294967295,w=l+(h<<9&4294967295|h>>>23),h=m+(l^d&(w^l))+p[11]+643717713&4294967295,m=w+(h<<14&4294967295|h>>>18),h=d+(w^l&(m^w))+p[0]+3921069994&4294967295,d=m+(h<<20&4294967295|h>>>12),h=l+(m^w&(d^m))+p[5]+3593408605&4294967295,l=d+(h<<5&4294967295|h>>>27),h=w+(d^m&(l^d))+p[10]+38016083&4294967295,w=l+(h<<9&4294967295|h>>>23),h=m+(l^d&(w^l))+p[15]+3634488961&4294967295,m=w+(h<<14&4294967295|h>>>18),h=d+(w^l&(m^w))+p[4]+3889429448&4294967295,d=m+(h<<20&4294967295|h>>>12),h=l+(m^w&(d^m))+p[9]+568446438&4294967295,l=d+(h<<5&4294967295|h>>>27),h=w+(d^m&(l^d))+p[14]+3275163606&4294967295,w=l+(h<<9&4294967295|h>>>23),h=m+(l^d&(w^l))+p[3]+4107603335&4294967295,m=w+(h<<14&4294967295|h>>>18),h=d+(w^l&(m^w))+p[8]+1163531501&4294967295,d=m+(h<<20&4294967295|h>>>12),h=l+(m^w&(d^m))+p[13]+2850285829&4294967295,l=d+(h<<5&4294967295|h>>>27),h=w+(d^m&(l^d))+p[2]+4243563512&4294967295,w=l+(h<<9&4294967295|h>>>23),h=m+(l^d&(w^l))+p[7]+1735328473&4294967295,m=w+(h<<14&4294967295|h>>>18),h=d+(w^l&(m^w))+p[12]+2368359562&4294967295,d=m+(h<<20&4294967295|h>>>12),h=l+(d^m^w)+p[5]+4294588738&4294967295,l=d+(h<<4&4294967295|h>>>28),h=w+(l^d^m)+p[8]+2272392833&4294967295,w=l+(h<<11&4294967295|h>>>21),h=m+(w^l^d)+p[11]+1839030562&4294967295,m=w+(h<<16&4294967295|h>>>16),h=d+(m^w^l)+p[14]+4259657740&4294967295,d=m+(h<<23&4294967295|h>>>9),h=l+(d^m^w)+p[1]+2763975236&4294967295,l=d+(h<<4&4294967295|h>>>28),h=w+(l^d^m)+p[4]+1272893353&4294967295,w=l+(h<<11&4294967295|h>>>21),h=m+(w^l^d)+p[7]+4139469664&4294967295,m=w+(h<<16&4294967295|h>>>16),h=d+(m^w^l)+p[10]+3200236656&4294967295,d=m+(h<<23&4294967295|h>>>9),h=l+(d^m^w)+p[13]+681279174&4294967295,l=d+(h<<4&4294967295|h>>>28),h=w+(l^d^m)+p[0]+3936430074&4294967295,w=l+(h<<11&4294967295|h>>>21),h=m+(w^l^d)+p[3]+3572445317&4294967295,m=w+(h<<16&4294967295|h>>>16),h=d+(m^w^l)+p[6]+76029189&4294967295,d=m+(h<<23&4294967295|h>>>9),h=l+(d^m^w)+p[9]+3654602809&4294967295,l=d+(h<<4&4294967295|h>>>28),h=w+(l^d^m)+p[12]+3873151461&4294967295,w=l+(h<<11&4294967295|h>>>21),h=m+(w^l^d)+p[15]+530742520&4294967295,m=w+(h<<16&4294967295|h>>>16),h=d+(m^w^l)+p[2]+3299628645&4294967295,d=m+(h<<23&4294967295|h>>>9),h=l+(m^(d|~w))+p[0]+4096336452&4294967295,l=d+(h<<6&4294967295|h>>>26),h=w+(d^(l|~m))+p[7]+1126891415&4294967295,w=l+(h<<10&4294967295|h>>>22),h=m+(l^(w|~d))+p[14]+2878612391&4294967295,m=w+(h<<15&4294967295|h>>>17),h=d+(w^(m|~l))+p[5]+4237533241&4294967295,d=m+(h<<21&4294967295|h>>>11),h=l+(m^(d|~w))+p[12]+1700485571&4294967295,l=d+(h<<6&4294967295|h>>>26),h=w+(d^(l|~m))+p[3]+2399980690&4294967295,w=l+(h<<10&4294967295|h>>>22),h=m+(l^(w|~d))+p[10]+4293915773&4294967295,m=w+(h<<15&4294967295|h>>>17),h=d+(w^(m|~l))+p[1]+2240044497&4294967295,d=m+(h<<21&4294967295|h>>>11),h=l+(m^(d|~w))+p[8]+1873313359&4294967295,l=d+(h<<6&4294967295|h>>>26),h=w+(d^(l|~m))+p[15]+4264355552&4294967295,w=l+(h<<10&4294967295|h>>>22),h=m+(l^(w|~d))+p[6]+2734768916&4294967295,m=w+(h<<15&4294967295|h>>>17),h=d+(w^(m|~l))+p[13]+1309151649&4294967295,d=m+(h<<21&4294967295|h>>>11),h=l+(m^(d|~w))+p[4]+4149444226&4294967295,l=d+(h<<6&4294967295|h>>>26),h=w+(d^(l|~m))+p[11]+3174756917&4294967295,w=l+(h<<10&4294967295|h>>>22),h=m+(l^(w|~d))+p[2]+718787259&4294967295,m=w+(h<<15&4294967295|h>>>17),h=d+(w^(m|~l))+p[9]+3951481745&4294967295,y.g[0]=y.g[0]+l&4294967295,y.g[1]=y.g[1]+(m+(h<<21&4294967295|h>>>11))&4294967295,y.g[2]=y.g[2]+m&4294967295,y.g[3]=y.g[3]+w&4294967295}i.prototype.u=function(y,l){l===void 0&&(l=y.length);for(var d=l-this.blockSize,p=this.B,m=this.h,w=0;w<l;){if(m==0)for(;w<=d;)a(this,y,w),w+=this.blockSize;if(typeof y=="string"){for(;w<l;)if(p[m++]=y.charCodeAt(w++),m==this.blockSize){a(this,p),m=0;break}}else for(;w<l;)if(p[m++]=y[w++],m==this.blockSize){a(this,p),m=0;break}}this.h=m,this.o+=l},i.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var l=1;l<y.length-8;++l)y[l]=0;var d=8*this.o;for(l=y.length-8;l<y.length;++l)y[l]=d&255,d/=256;for(this.u(y),y=Array(16),l=d=0;4>l;++l)for(var p=0;32>p;p+=8)y[d++]=this.g[l]>>>p&255;return y};function c(y,l){var d=_;return Object.prototype.hasOwnProperty.call(d,y)?d[y]:d[y]=l(y)}function f(y,l){this.h=l;for(var d=[],p=!0,m=y.length-1;0<=m;m--){var w=y[m]|0;p&&w==l||(d[m]=w,p=!1)}this.g=d}var _={};function I(y){return-128<=y&&128>y?c(y,function(l){return new f([l|0],0>l?-1:0)}):new f([y|0],0>y?-1:0)}function A(y){if(isNaN(y)||!isFinite(y))return R;if(0>y)return N(A(-y));for(var l=[],d=1,p=0;y>=d;p++)l[p]=y/d|0,d*=4294967296;return new f(l,0)}function v(y,l){if(y.length==0)throw Error("number format error: empty string");if(l=l||10,2>l||36<l)throw Error("radix out of range: "+l);if(y.charAt(0)=="-")return N(v(y.substring(1),l));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var d=A(Math.pow(l,8)),p=R,m=0;m<y.length;m+=8){var w=Math.min(8,y.length-m),h=parseInt(y.substring(m,m+w),l);8>w?(w=A(Math.pow(l,w)),p=p.j(w).add(A(h))):(p=p.j(d),p=p.add(A(h)))}return p}var R=I(0),S=I(1),O=I(16777216);n=f.prototype,n.m=function(){if(L(this))return-N(this).m();for(var y=0,l=1,d=0;d<this.g.length;d++){var p=this.i(d);y+=(0<=p?p:4294967296+p)*l,l*=4294967296}return y},n.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(P(this))return"0";if(L(this))return"-"+N(this).toString(y);for(var l=A(Math.pow(y,6)),d=this,p="";;){var m=q(d,l).g;d=ct(d,m.j(l));var w=((0<d.g.length?d.g[0]:d.h)>>>0).toString(y);if(d=m,P(d))return w+p;for(;6>w.length;)w="0"+w;p=w+p}},n.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function P(y){if(y.h!=0)return!1;for(var l=0;l<y.g.length;l++)if(y.g[l]!=0)return!1;return!0}function L(y){return y.h==-1}n.l=function(y){return y=ct(this,y),L(y)?-1:P(y)?0:1};function N(y){for(var l=y.g.length,d=[],p=0;p<l;p++)d[p]=~y.g[p];return new f(d,~y.h).add(S)}n.abs=function(){return L(this)?N(this):this},n.add=function(y){for(var l=Math.max(this.g.length,y.g.length),d=[],p=0,m=0;m<=l;m++){var w=p+(this.i(m)&65535)+(y.i(m)&65535),h=(w>>>16)+(this.i(m)>>>16)+(y.i(m)>>>16);p=h>>>16,w&=65535,h&=65535,d[m]=h<<16|w}return new f(d,d[d.length-1]&-2147483648?-1:0)};function ct(y,l){return y.add(N(l))}n.j=function(y){if(P(this)||P(y))return R;if(L(this))return L(y)?N(this).j(N(y)):N(N(this).j(y));if(L(y))return N(this.j(N(y)));if(0>this.l(O)&&0>y.l(O))return A(this.m()*y.m());for(var l=this.g.length+y.g.length,d=[],p=0;p<2*l;p++)d[p]=0;for(p=0;p<this.g.length;p++)for(var m=0;m<y.g.length;m++){var w=this.i(p)>>>16,h=this.i(p)&65535,It=y.i(m)>>>16,we=y.i(m)&65535;d[2*p+2*m]+=h*we,ot(d,2*p+2*m),d[2*p+2*m+1]+=w*we,ot(d,2*p+2*m+1),d[2*p+2*m+1]+=h*It,ot(d,2*p+2*m+1),d[2*p+2*m+2]+=w*It,ot(d,2*p+2*m+2)}for(p=0;p<l;p++)d[p]=d[2*p+1]<<16|d[2*p];for(p=l;p<2*l;p++)d[p]=0;return new f(d,0)};function ot(y,l){for(;(y[l]&65535)!=y[l];)y[l+1]+=y[l]>>>16,y[l]&=65535,l++}function j(y,l){this.g=y,this.h=l}function q(y,l){if(P(l))throw Error("division by zero");if(P(y))return new j(R,R);if(L(y))return l=q(N(y),l),new j(N(l.g),N(l.h));if(L(l))return l=q(y,N(l)),new j(N(l.g),l.h);if(30<y.g.length){if(L(y)||L(l))throw Error("slowDivide_ only works with positive integers.");for(var d=S,p=l;0>=p.l(y);)d=Tt(d),p=Tt(p);var m=tt(d,1),w=tt(p,1);for(p=tt(p,2),d=tt(d,2);!P(p);){var h=w.add(p);0>=h.l(y)&&(m=m.add(d),w=h),p=tt(p,1),d=tt(d,1)}return l=ct(y,m.j(l)),new j(m,l)}for(m=R;0<=y.l(l);){for(d=Math.max(1,Math.floor(y.m()/l.m())),p=Math.ceil(Math.log(d)/Math.LN2),p=48>=p?1:Math.pow(2,p-48),w=A(d),h=w.j(l);L(h)||0<h.l(y);)d-=p,w=A(d),h=w.j(l);P(w)&&(w=S),m=m.add(w),y=ct(y,h)}return new j(m,y)}n.A=function(y){return q(this,y).h},n.and=function(y){for(var l=Math.max(this.g.length,y.g.length),d=[],p=0;p<l;p++)d[p]=this.i(p)&y.i(p);return new f(d,this.h&y.h)},n.or=function(y){for(var l=Math.max(this.g.length,y.g.length),d=[],p=0;p<l;p++)d[p]=this.i(p)|y.i(p);return new f(d,this.h|y.h)},n.xor=function(y){for(var l=Math.max(this.g.length,y.g.length),d=[],p=0;p<l;p++)d[p]=this.i(p)^y.i(p);return new f(d,this.h^y.h)};function Tt(y){for(var l=y.g.length+1,d=[],p=0;p<l;p++)d[p]=y.i(p)<<1|y.i(p-1)>>>31;return new f(d,y.h)}function tt(y,l){var d=l>>5;l%=32;for(var p=y.g.length-d,m=[],w=0;w<p;w++)m[w]=0<l?y.i(w+d)>>>l|y.i(w+d+1)<<32-l:y.i(w+d);return new f(m,y.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ca=ua.Md5=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=A,f.fromString=v,Un=ua.Integer=f}).apply(typeof aa<"u"?aa:typeof self<"u"?self:typeof window<"u"?window:{});var qn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},St={};var la,Jl,ha,da,fa,pa,ma,ga,_a;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,s,o){return e==Array.prototype||e==Object.prototype||(e[s]=o.value),e};function r(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof qn=="object"&&qn];for(var s=0;s<e.length;++s){var o=e[s];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")}var i=r(this);function a(e,s){if(s)t:{var o=i;e=e.split(".");for(var u=0;u<e.length-1;u++){var g=e[u];if(!(g in o))break t;o=o[g]}e=e[e.length-1],u=o[e],s=s(u),s!=u&&s!=null&&t(o,e,{configurable:!0,writable:!0,value:s})}}function c(e,s){e instanceof String&&(e+="");var o=0,u=!1,g={next:function(){if(!u&&o<e.length){var T=o++;return{value:s(T,e[T]),done:!1}}return u=!0,{done:!0,value:void 0}}};return g[Symbol.iterator]=function(){return g},g}a("Array.prototype.values",function(e){return e||function(){return c(this,function(s,o){return o})}});var f=f||{},_=this||self;function I(e){var s=typeof e;return s=s!="object"?s:e?Array.isArray(e)?"array":s:"null",s=="array"||s=="object"&&typeof e.length=="number"}function A(e){var s=typeof e;return s=="object"&&e!=null||s=="function"}function v(e,s,o){return e.call.apply(e.bind,arguments)}function R(e,s,o){if(!e)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,u),e.apply(s,g)}}return function(){return e.apply(s,arguments)}}function S(e,s,o){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:R,S.apply(null,arguments)}function O(e,s){var o=Array.prototype.slice.call(arguments,1);return function(){var u=o.slice();return u.push.apply(u,arguments),e.apply(this,u)}}function P(e,s){function o(){}o.prototype=s.prototype,e.aa=s.prototype,e.prototype=new o,e.prototype.constructor=e,e.Qb=function(u,g,T){for(var E=Array(arguments.length-2),V=2;V<arguments.length;V++)E[V-2]=arguments[V];return s.prototype[g].apply(u,E)}}function L(e){let s=e.length;if(0<s){let o=Array(s);for(let u=0;u<s;u++)o[u]=e[u];return o}return[]}function N(e,s){for(let o=1;o<arguments.length;o++){let u=arguments[o];if(I(u)){let g=e.length||0,T=u.length||0;e.length=g+T;for(let E=0;E<T;E++)e[g+E]=u[E]}else e.push(u)}}class ct{constructor(s,o){this.i=s,this.j=o,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function ot(e){return/^[\s\xa0]*$/.test(e)}function j(){var e=_.navigator;return e&&(e=e.userAgent)?e:""}function q(e){return q[" "](e),e}q[" "]=function(){};var Tt=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function tt(e,s,o){for(let u in e)s.call(o,e[u],u,e)}function y(e,s){for(let o in e)s.call(void 0,e[o],o,e)}function l(e){let s={};for(let o in e)s[o]=e[o];return s}let d="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p(e,s){let o,u;for(let g=1;g<arguments.length;g++){u=arguments[g];for(o in u)e[o]=u[o];for(let T=0;T<d.length;T++)o=d[T],Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o])}}function m(e){var s=1;e=e.split(":");let o=[];for(;0<s&&e.length;)o.push(e.shift()),s--;return e.length&&o.push(e.join(":")),o}function w(e){_.setTimeout(()=>{throw e},0)}function h(){var e=tr;let s=null;return e.g&&(s=e.g,e.g=e.g.next,e.g||(e.h=null),s.next=null),s}class It{constructor(){this.h=this.g=null}add(s,o){let u=we.get();u.set(s,o),this.h?this.h.next=u:this.g=u,this.h=u}}var we=new ct(()=>new Vu,e=>e.reset());class Vu{constructor(){this.next=this.g=this.h=null}set(s,o){this.h=s,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,Ie=!1,tr=new It,Gs=()=>{let e=_.Promise.resolve(void 0);Te=()=>{e.then(Ou)}};var Ou=()=>{for(var e;e=h();){try{e.h.call(e.g)}catch(o){w(o)}var s=we;s.j(e),100>s.h&&(s.h++,e.next=s.g,s.g=e)}Ie=!1};function Nt(){this.s=this.s,this.C=this.C}Nt.prototype.s=!1,Nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(e,s){this.type=e,this.g=this.target=s,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var Fu=(function(){if(!_.addEventListener||!Object.defineProperty)return!1;var e=!1,s=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let o=()=>{};_.addEventListener("test",o,s),_.removeEventListener("test",o,s)}catch{}return e})();function ve(e,s){if(G.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var o=this.type=e.type,u=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=s,s=e.relatedTarget){if(Tt){t:{try{q(s.nodeName);var g=!0;break t}catch{}g=!1}g||(s=null)}}else o=="mouseover"?s=e.fromElement:o=="mouseout"&&(s=e.toElement);this.relatedTarget=s,u?(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Mu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ve.aa.h.call(this)}}P(ve,G);var Mu={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Lu=0;function Uu(e,s,o,u,g){this.listener=e,this.proxy=null,this.src=s,this.type=o,this.capture=!!u,this.ha=g,this.key=++Lu,this.da=this.fa=!1}function sn(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function on(e){this.src=e,this.g={},this.h=0}on.prototype.add=function(e,s,o,u,g){var T=e.toString();e=this.g[T],e||(e=this.g[T]=[],this.h++);var E=nr(e,s,u,g);return-1<E?(s=e[E],o||(s.fa=!1)):(s=new Uu(s,this.src,T,!!u,g),s.fa=o,e.push(s)),s};function er(e,s){var o=s.type;if(o in e.g){var u=e.g[o],g=Array.prototype.indexOf.call(u,s,void 0),T;(T=0<=g)&&Array.prototype.splice.call(u,g,1),T&&(sn(s),e.g[o].length==0&&(delete e.g[o],e.h--))}}function nr(e,s,o,u){for(var g=0;g<e.length;++g){var T=e[g];if(!T.da&&T.listener==s&&T.capture==!!o&&T.ha==u)return g}return-1}var rr="closure_lm_"+(1e6*Math.random()|0),sr={};function Ks(e,s,o,u,g){if(u&&u.once)return Qs(e,s,o,u,g);if(Array.isArray(s)){for(var T=0;T<s.length;T++)Ks(e,s[T],o,u,g);return null}return o=ur(o),e&&e[Ee]?e.K(s,o,A(u)?!!u.capture:!!u,g):Ws(e,s,o,!1,u,g)}function Ws(e,s,o,u,g,T){if(!s)throw Error("Invalid event type");var E=A(g)?!!g.capture:!!g,V=or(e);if(V||(e[rr]=V=new on(e)),o=V.add(s,o,u,E,T),o.proxy)return o;if(u=qu(),o.proxy=u,u.src=e,u.listener=o,e.addEventListener)Fu||(g=E),g===void 0&&(g=!1),e.addEventListener(s.toString(),u,g);else if(e.attachEvent)e.attachEvent(Xs(s.toString()),u);else if(e.addListener&&e.removeListener)e.addListener(u);else throw Error("addEventListener and attachEvent are unavailable.");return o}function qu(){function e(o){return s.call(e.src,e.listener,o)}let s=Bu;return e}function Qs(e,s,o,u,g){if(Array.isArray(s)){for(var T=0;T<s.length;T++)Qs(e,s[T],o,u,g);return null}return o=ur(o),e&&e[Ee]?e.L(s,o,A(u)?!!u.capture:!!u,g):Ws(e,s,o,!0,u,g)}function Hs(e,s,o,u,g){if(Array.isArray(s))for(var T=0;T<s.length;T++)Hs(e,s[T],o,u,g);else u=A(u)?!!u.capture:!!u,o=ur(o),e&&e[Ee]?(e=e.i,s=String(s).toString(),s in e.g&&(T=e.g[s],o=nr(T,o,u,g),-1<o&&(sn(T[o]),Array.prototype.splice.call(T,o,1),T.length==0&&(delete e.g[s],e.h--)))):e&&(e=or(e))&&(s=e.g[s.toString()],e=-1,s&&(e=nr(s,o,u,g)),(o=-1<e?s[e]:null)&&ir(o))}function ir(e){if(typeof e!="number"&&e&&!e.da){var s=e.src;if(s&&s[Ee])er(s.i,e);else{var o=e.type,u=e.proxy;s.removeEventListener?s.removeEventListener(o,u,e.capture):s.detachEvent?s.detachEvent(Xs(o),u):s.addListener&&s.removeListener&&s.removeListener(u),(o=or(s))?(er(o,e),o.h==0&&(o.src=null,s[rr]=null)):sn(e)}}}function Xs(e){return e in sr?sr[e]:sr[e]="on"+e}function Bu(e,s){if(e.da)e=!0;else{s=new ve(s,this);var o=e.listener,u=e.ha||e.src;e.fa&&ir(e),e=o.call(u,s)}return e}function or(e){return e=e[rr],e instanceof on?e:null}var ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function ur(e){return typeof e=="function"?e:(e[ar]||(e[ar]=function(s){return e.handleEvent(s)}),e[ar])}function K(){Nt.call(this),this.i=new on(this),this.M=this,this.F=null}P(K,Nt),K.prototype[Ee]=!0,K.prototype.removeEventListener=function(e,s,o,u){Hs(this,e,s,o,u)};function X(e,s){var o,u=e.F;if(u)for(o=[];u;u=u.F)o.push(u);if(e=e.M,u=s.type||s,typeof s=="string")s=new G(s,e);else if(s instanceof G)s.target=s.target||e;else{var g=s;s=new G(u,e),p(s,g)}if(g=!0,o)for(var T=o.length-1;0<=T;T--){var E=s.g=o[T];g=an(E,u,!0,s)&&g}if(E=s.g=e,g=an(E,u,!0,s)&&g,g=an(E,u,!1,s)&&g,o)for(T=0;T<o.length;T++)E=s.g=o[T],g=an(E,u,!1,s)&&g}K.prototype.N=function(){if(K.aa.N.call(this),this.i){var e=this.i,s;for(s in e.g){for(var o=e.g[s],u=0;u<o.length;u++)sn(o[u]);delete e.g[s],e.h--}}this.F=null},K.prototype.K=function(e,s,o,u){return this.i.add(String(e),s,!1,o,u)},K.prototype.L=function(e,s,o,u){return this.i.add(String(e),s,!0,o,u)};function an(e,s,o,u){if(s=e.i.g[String(s)],!s)return!0;s=s.concat();for(var g=!0,T=0;T<s.length;++T){var E=s[T];if(E&&!E.da&&E.capture==o){var V=E.listener,$=E.ha||E.src;E.fa&&er(e.i,E),g=V.call($,u)!==!1&&g}}return g&&!u.defaultPrevented}function Ys(e,s,o){if(typeof e=="function")o&&(e=S(e,o));else if(e&&typeof e.handleEvent=="function")e=S(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:_.setTimeout(e,s||0)}function Js(e){e.g=Ys(()=>{e.g=null,e.i&&(e.i=!1,Js(e))},e.l);let s=e.h;e.h=null,e.m.apply(null,s)}class ju extends Nt{constructor(s,o){super(),this.m=s,this.l=o,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:Js(this)}N(){super.N(),this.g&&(_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ae(e){Nt.call(this),this.h=e,this.g={}}P(Ae,Nt);var Zs=[];function ti(e){tt(e.g,function(s,o){this.g.hasOwnProperty(o)&&ir(s)},e),e.g={}}Ae.prototype.N=function(){Ae.aa.N.call(this),ti(this)},Ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=_.JSON.stringify,$u=_.JSON.parse,zu=class{stringify(e){return _.JSON.stringify(e,void 0)}parse(e){return _.JSON.parse(e,void 0)}};function lr(){}lr.prototype.h=null;function ei(e){return e.h||(e.h=e.i())}function ni(){}var be={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){G.call(this,"d")}P(hr,G);function dr(){G.call(this,"c")}P(dr,G);var Gt={},ri=null;function un(){return ri=ri||new K}Gt.La="serverreachability";function si(e){G.call(this,Gt.La,e)}P(si,G);function Se(e){let s=un();X(s,new si(s))}Gt.STAT_EVENT="statevent";function ii(e,s){G.call(this,Gt.STAT_EVENT,e),this.stat=s}P(ii,G);function Y(e){let s=un();X(s,new ii(s,e))}Gt.Ma="timingevent";function oi(e,s){G.call(this,Gt.Ma,e),this.size=s}P(oi,G);function Re(e,s){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return _.setTimeout(function(){e()},s)}function Pe(){this.g=!0}Pe.prototype.xa=function(){this.g=!1};function Gu(e,s,o,u,g,T){e.info(function(){if(e.g)if(T)for(var E="",V=T.split("&"),$=0;$<V.length;$++){var x=V[$].split("=");if(1<x.length){var W=x[0];x=x[1];var Q=W.split("_");E=2<=Q.length&&Q[1]=="type"?E+(W+"="+x+"&"):E+(W+"=redacted&")}}else E=null;else E=T;return"XMLHTTP REQ ("+u+") [attempt "+g+"]: "+s+`
`+o+`
`+E})}function Ku(e,s,o,u,g,T,E){e.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+g+"]: "+s+`
`+o+`
`+T+" "+E})}function re(e,s,o,u){e.info(function(){return"XMLHTTP TEXT ("+s+"): "+Qu(e,o)+(u?" "+u:"")})}function Wu(e,s){e.info(function(){return"TIMEOUT: "+s})}Pe.prototype.info=function(){};function Qu(e,s){if(!e.g)return s;if(!s)return null;try{var o=JSON.parse(s);if(o){for(e=0;e<o.length;e++)if(Array.isArray(o[e])){var u=o[e];if(!(2>u.length)){var g=u[1];if(Array.isArray(g)&&!(1>g.length)){var T=g[0];if(T!="noop"&&T!="stop"&&T!="close")for(var E=1;E<g.length;E++)g[E]=""}}}}return cr(o)}catch{return s}}var cn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fr;function ln(){}P(ln,lr),ln.prototype.g=function(){return new XMLHttpRequest},ln.prototype.i=function(){return{}},fr=new ln;function xt(e,s,o,u){this.j=e,this.i=s,this.l=o,this.R=u||1,this.U=new Ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var ci={},pr={};function mr(e,s,o){e.L=1,e.v=pn(vt(s)),e.m=o,e.P=!0,li(e,null)}function li(e,s){e.F=Date.now(),hn(e),e.A=vt(e.v);var o=e.A,u=e.R;Array.isArray(u)||(u=[String(u)]),Ai(o.i,"t",u),e.C=0,o=e.j.J,e.h=new ui,e.g=ji(e.j,o?s:null,!e.m),0<e.O&&(e.M=new ju(S(e.Y,e,e.g),e.O)),s=e.U,o=e.g,u=e.ca;var g="readystatechange";Array.isArray(g)||(g&&(Zs[0]=g.toString()),g=Zs);for(var T=0;T<g.length;T++){var E=Ks(o,g[T],u||s.handleEvent,!1,s.h||s);if(!E)break;s.g[E.key]=E}s=e.H?l(e.H):{},e.m?(e.u||(e.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,s)):(e.u="GET",e.g.ea(e.A,e.u,null,s)),Se(),Gu(e.i,e.u,e.A,e.l,e.R,e.m)}xt.prototype.ca=function(e){e=e.target;let s=this.M;s&&Et(e)==3?s.j():this.Y(e)},xt.prototype.Y=function(e){try{if(e==this.g)t:{let Q=Et(this.g);var s=this.g.Ba();let oe=this.g.Z();if(!(3>Q)&&(Q!=3||this.g&&(this.h.h||this.g.oa()||ki(this.g)))){this.J||Q!=4||s==7||(s==8||0>=oe?Se(3):Se(2)),gr(this);var o=this.g.Z();this.X=o;e:if(hi(this)){var u=ki(this.g);e="";var g=u.length,T=Et(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),Ce(this);var E="";break e}this.h.i=new _.TextDecoder}for(s=0;s<g;s++)this.h.h=!0,e+=this.h.i.decode(u[s],{stream:!(T&&s==g-1)});u.length=0,this.h.g+=e,this.C=0,E=this.h.g}else E=this.g.oa();if(this.o=o==200,Ku(this.i,this.u,this.A,this.l,this.R,Q,o),this.o){if(this.T&&!this.K){e:{if(this.g){var V,$=this.g;if((V=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(V)){var x=V;break e}}x=null}if(o=x)re(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_r(this,o);else{this.o=!1,this.s=3,Y(12),Kt(this),Ce(this);break t}}if(this.P){o=!0;let lt;for(;!this.J&&this.C<E.length;)if(lt=Hu(this,E),lt==pr){Q==4&&(this.s=4,Y(14),o=!1),re(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==ci){this.s=4,Y(15),re(this.i,this.l,E,"[Invalid Chunk]"),o=!1;break}else re(this.i,this.l,lt,null),_r(this,lt);if(hi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Q!=4||E.length!=0||this.h.h||(this.s=1,Y(16),o=!1),this.o=this.o&&o,!o)re(this.i,this.l,E,"[Invalid Chunked Response]"),Kt(this),Ce(this);else if(0<E.length&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.ba&&!W.M&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Er(W),W.M=!0,Y(11))}}else re(this.i,this.l,E,null),_r(this,E);Q==4&&Kt(this),this.o&&!this.J&&(Q==4?Li(this.j,this):(this.o=!1,hn(this)))}else dc(this.g),o==400&&0<E.indexOf("Unknown SID")?(this.s=3,Y(12)):(this.s=0,Y(13)),Kt(this),Ce(this)}}}catch{}finally{}};function hi(e){return e.g?e.u=="GET"&&e.L!=2&&e.j.Ca:!1}function Hu(e,s){var o=e.C,u=s.indexOf(`
`,o);return u==-1?pr:(o=Number(s.substring(o,u)),isNaN(o)?ci:(u+=1,u+o>s.length?pr:(s=s.slice(u,u+o),e.C=u+o,s)))}xt.prototype.cancel=function(){this.J=!0,Kt(this)};function hn(e){e.S=Date.now()+e.I,di(e,e.I)}function di(e,s){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Re(S(e.ba,e),s)}function gr(e){e.B&&(_.clearTimeout(e.B),e.B=null)}xt.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(Wu(this.i,this.A),this.L!=2&&(Se(),Y(17)),Kt(this),this.s=2,Ce(this)):di(this,this.S-e)};function Ce(e){e.j.G==0||e.J||Li(e.j,e)}function Kt(e){gr(e);var s=e.M;s&&typeof s.ma=="function"&&s.ma(),e.M=null,ti(e.U),e.g&&(s=e.g,e.g=null,s.abort(),s.ma())}function _r(e,s){try{var o=e.j;if(o.G!=0&&(o.g==e||yr(o.h,e))){if(!e.K&&yr(o.h,e)&&o.G==3){try{var u=o.Da.g.parse(s)}catch{u=null}if(Array.isArray(u)&&u.length==3){var g=u;if(g[0]==0){t:if(!o.u){if(o.g)if(o.g.F+3e3<e.F)wn(o),_n(o);else break t;vr(o),Y(18)}}else o.za=g[1],0<o.za-o.T&&37500>g[2]&&o.F&&o.v==0&&!o.C&&(o.C=Re(S(o.Za,o),6e3));if(1>=mi(o.h)&&o.ca){try{o.ca()}catch{}o.ca=void 0}}else Qt(o,11)}else if((e.K||o.g==e)&&wn(o),!ot(s))for(g=o.Da.g.parse(s),s=0;s<g.length;s++){let x=g[s];if(o.T=x[0],x=x[1],o.G==2)if(x[0]=="c"){o.K=x[1],o.ia=x[2];let W=x[3];W!=null&&(o.la=W,o.j.info("VER="+o.la));let Q=x[4];Q!=null&&(o.Aa=Q,o.j.info("SVER="+o.Aa));let oe=x[5];oe!=null&&typeof oe=="number"&&0<oe&&(u=1.5*oe,o.L=u,o.j.info("backChannelRequestTimeoutMs_="+u)),u=o;let lt=e.g;if(lt){let In=lt.g?lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(In){var T=u.h;T.g||In.indexOf("spdy")==-1&&In.indexOf("quic")==-1&&In.indexOf("h2")==-1||(T.j=T.l,T.g=new Set,T.h&&(wr(T,T.h),T.h=null))}if(u.D){let Ar=lt.g?lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ar&&(u.ya=Ar,F(u.I,u.D,Ar))}}o.G=3,o.l&&o.l.ua(),o.ba&&(o.R=Date.now()-e.F,o.j.info("Handshake RTT: "+o.R+"ms")),u=o;var E=e;if(u.qa=Bi(u,u.J?u.ia:null,u.W),E.K){gi(u.h,E);var V=E,$=u.L;$&&(V.I=$),V.B&&(gr(V),hn(V)),u.g=E}else Fi(u);0<o.i.length&&yn(o)}else x[0]!="stop"&&x[0]!="close"||Qt(o,7);else o.G==3&&(x[0]=="stop"||x[0]=="close"?x[0]=="stop"?Qt(o,7):Ir(o):x[0]!="noop"&&o.l&&o.l.ta(x),o.v=0)}}Se(4)}catch{}}var Xu=class{constructor(e,s){this.g=e,this.map=s}};function fi(e){this.l=e||10,_.PerformanceNavigationTiming?(e=_.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(_.chrome&&_.chrome.loadTimes&&_.chrome.loadTimes()&&_.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pi(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function mi(e){return e.h?1:e.g?e.g.size:0}function yr(e,s){return e.h?e.h==s:e.g?e.g.has(s):!1}function wr(e,s){e.g?e.g.add(s):e.h=s}function gi(e,s){e.h&&e.h==s?e.h=null:e.g&&e.g.has(s)&&e.g.delete(s)}fi.prototype.cancel=function(){if(this.i=_i(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function _i(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let s=e.i;for(let o of e.g.values())s=s.concat(o.D);return s}return L(e.i)}function Yu(e){if(e.V&&typeof e.V=="function")return e.V();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(I(e)){for(var s=[],o=e.length,u=0;u<o;u++)s.push(e[u]);return s}s=[],o=0;for(u in e)s[o++]=e[u];return s}function Ju(e){if(e.na&&typeof e.na=="function")return e.na();if(!e.V||typeof e.V!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(I(e)||typeof e=="string"){var s=[];e=e.length;for(var o=0;o<e;o++)s.push(o);return s}s=[],o=0;for(let u in e)s[o++]=u;return s}}}function yi(e,s){if(e.forEach&&typeof e.forEach=="function")e.forEach(s,void 0);else if(I(e)||typeof e=="string")Array.prototype.forEach.call(e,s,void 0);else for(var o=Ju(e),u=Yu(e),g=u.length,T=0;T<g;T++)s.call(void 0,u[T],o&&o[T],e)}var wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zu(e,s){if(e){e=e.split("&");for(var o=0;o<e.length;o++){var u=e[o].indexOf("="),g=null;if(0<=u){var T=e[o].substring(0,u);g=e[o].substring(u+1)}else T=e[o];s(T,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function Wt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof Wt){this.h=e.h,dn(this,e.j),this.o=e.o,this.g=e.g,fn(this,e.s),this.l=e.l;var s=e.i,o=new Ne;o.i=s.i,s.g&&(o.g=new Map(s.g),o.h=s.h),Ti(this,o),this.m=e.m}else e&&(s=String(e).match(wi))?(this.h=!1,dn(this,s[1]||"",!0),this.o=De(s[2]||""),this.g=De(s[3]||"",!0),fn(this,s[4]),this.l=De(s[5]||"",!0),Ti(this,s[6]||"",!0),this.m=De(s[7]||"")):(this.h=!1,this.i=new Ne(null,this.h))}Wt.prototype.toString=function(){var e=[],s=this.j;s&&e.push(ke(s,Ii,!0),":");var o=this.g;return(o||s=="file")&&(e.push("//"),(s=this.o)&&e.push(ke(s,Ii,!0),"@"),e.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o=this.s,o!=null&&e.push(":",String(o))),(o=this.l)&&(this.g&&o.charAt(0)!="/"&&e.push("/"),e.push(ke(o,o.charAt(0)=="/"?nc:ec,!0))),(o=this.i.toString())&&e.push("?",o),(o=this.m)&&e.push("#",ke(o,sc)),e.join("")};function vt(e){return new Wt(e)}function dn(e,s,o){e.j=o?De(s,!0):s,e.j&&(e.j=e.j.replace(/:$/,""))}function fn(e,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);e.s=s}else e.s=null}function Ti(e,s,o){s instanceof Ne?(e.i=s,ic(e.i,e.h)):(o||(s=ke(s,rc)),e.i=new Ne(s,e.h))}function F(e,s,o){e.i.set(s,o)}function pn(e){return F(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function De(e,s){return e?s?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ke(e,s,o){return typeof e=="string"?(e=encodeURI(e).replace(s,tc),o&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function tc(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ii=/[#\/\?@]/g,ec=/[#\?:]/g,nc=/[#\?]/g,rc=/[#\?@]/g,sc=/#/g;function Ne(e,s){this.h=this.g=null,this.i=e||null,this.j=!!s}function Vt(e){e.g||(e.g=new Map,e.h=0,e.i&&Zu(e.i,function(s,o){e.add(decodeURIComponent(s.replace(/\+/g," ")),o)}))}n=Ne.prototype,n.add=function(e,s){Vt(this),this.i=null,e=se(this,e);var o=this.g.get(e);return o||this.g.set(e,o=[]),o.push(s),this.h+=1,this};function vi(e,s){Vt(e),s=se(e,s),e.g.has(s)&&(e.i=null,e.h-=e.g.get(s).length,e.g.delete(s))}function Ei(e,s){return Vt(e),s=se(e,s),e.g.has(s)}n.forEach=function(e,s){Vt(this),this.g.forEach(function(o,u){o.forEach(function(g){e.call(s,g,u,this)},this)},this)},n.na=function(){Vt(this);let e=Array.from(this.g.values()),s=Array.from(this.g.keys()),o=[];for(let u=0;u<s.length;u++){let g=e[u];for(let T=0;T<g.length;T++)o.push(s[u])}return o},n.V=function(e){Vt(this);let s=[];if(typeof e=="string")Ei(this,e)&&(s=s.concat(this.g.get(se(this,e))));else{e=Array.from(this.g.values());for(let o=0;o<e.length;o++)s=s.concat(e[o])}return s},n.set=function(e,s){return Vt(this),this.i=null,e=se(this,e),Ei(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[s]),this.h+=1,this},n.get=function(e,s){return e?(e=this.V(e),0<e.length?String(e[0]):s):s};function Ai(e,s,o){vi(e,s),0<o.length&&(e.i=null,e.g.set(se(e,s),L(o)),e.h+=o.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],s=Array.from(this.g.keys());for(var o=0;o<s.length;o++){var u=s[o];let T=encodeURIComponent(String(u)),E=this.V(u);for(u=0;u<E.length;u++){var g=T;E[u]!==""&&(g+="="+encodeURIComponent(String(E[u]))),e.push(g)}}return this.i=e.join("&")};function se(e,s){return s=String(s),e.j&&(s=s.toLowerCase()),s}function ic(e,s){s&&!e.j&&(Vt(e),e.i=null,e.g.forEach(function(o,u){var g=u.toLowerCase();u!=g&&(vi(this,u),Ai(this,g,o))},e)),e.j=s}function oc(e,s){let o=new Pe;if(_.Image){let u=new Image;u.onload=O(Ot,o,"TestLoadImage: loaded",!0,s,u),u.onerror=O(Ot,o,"TestLoadImage: error",!1,s,u),u.onabort=O(Ot,o,"TestLoadImage: abort",!1,s,u),u.ontimeout=O(Ot,o,"TestLoadImage: timeout",!1,s,u),_.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=e}else s(!1)}function ac(e,s){let o=new Pe,u=new AbortController,g=setTimeout(()=>{u.abort(),Ot(o,"TestPingServer: timeout",!1,s)},1e4);fetch(e,{signal:u.signal}).then(T=>{clearTimeout(g),T.ok?Ot(o,"TestPingServer: ok",!0,s):Ot(o,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(g),Ot(o,"TestPingServer: error",!1,s)})}function Ot(e,s,o,u,g){try{g&&(g.onload=null,g.onerror=null,g.onabort=null,g.ontimeout=null),u(o)}catch{}}function uc(){this.g=new zu}function cc(e,s,o){let u=o||"";try{yi(e,function(g,T){let E=g;A(g)&&(E=cr(g)),s.push(u+T+"="+encodeURIComponent(E))})}catch(g){throw s.push(u+"type="+encodeURIComponent("_badmap")),g}}function xe(e){this.l=e.Ub||null,this.j=e.eb||!1}P(xe,lr),xe.prototype.g=function(){return new mn(this.l,this.j)},xe.prototype.i=(function(e){return function(){return e}})({});function mn(e,s){K.call(this),this.D=e,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(mn,K),n=mn.prototype,n.open=function(e,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=s,this.readyState=1,Oe(this)},n.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(s.body=e),(this.D||_).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ve(this)),this.readyState=0},n.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Oe(this)),this.g&&(this.readyState=3,Oe(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof _.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bi(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))};function bi(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}n.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var s=e.value?e.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!e.done}))&&(this.response=this.responseText+=s)}e.done?Ve(this):Oe(this),this.readyState==3&&bi(this)}},n.Ra=function(e){this.g&&(this.response=this.responseText=e,Ve(this))},n.Qa=function(e){this.g&&(this.response=e,Ve(this))},n.ga=function(){this.g&&Ve(this)};function Ve(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Oe(e)}n.setRequestHeader=function(e,s){this.u.append(e,s)},n.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],s=this.h.entries();for(var o=s.next();!o.done;)o=o.value,e.push(o[0]+": "+o[1]),o=s.next();return e.join(`\r
`)};function Oe(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});function Si(e){let s="";return tt(e,function(o,u){s+=u,s+=":",s+=o,s+=`\r
`}),s}function Tr(e,s,o){t:{for(u in o){var u=!1;break t}u=!0}u||(o=Si(o),typeof e=="string"?o!=null&&encodeURIComponent(String(o)):F(e,s,o))}function U(e){K.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(U,K);var lc=/^https?$/i,hc=["POST","PUT"];n=U.prototype,n.Ha=function(e){this.J=e},n.ea=function(e,s,o,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);s=s?s.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fr.g(),this.v=this.o?ei(this.o):ei(fr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(s,String(e),!0),this.B=!1}catch(T){Ri(this,T);return}if(e=o||"",o=new Map(this.headers),u)if(Object.getPrototypeOf(u)===Object.prototype)for(var g in u)o.set(g,u[g]);else if(typeof u.keys=="function"&&typeof u.get=="function")for(let T of u.keys())o.set(T,u.get(T));else throw Error("Unknown input type for opt_headers: "+String(u));u=Array.from(o.keys()).find(T=>T.toLowerCase()=="content-type"),g=_.FormData&&e instanceof _.FormData,!(0<=Array.prototype.indexOf.call(hc,s,void 0))||u||g||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[T,E]of o)this.g.setRequestHeader(T,E);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Di(this),this.u=!0,this.g.send(e),this.u=!1}catch(T){Ri(this,T)}};function Ri(e,s){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=s,e.m=5,Pi(e),gn(e)}function Pi(e){e.A||(e.A=!0,X(e,"complete"),X(e,"error"))}n.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,X(this,"complete"),X(this,"abort"),gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gn(this,!0)),U.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ci(this):this.bb())},n.bb=function(){Ci(this)};function Ci(e){if(e.h&&typeof f<"u"&&(!e.v[1]||Et(e)!=4||e.Z()!=2)){if(e.u&&Et(e)==4)Ys(e.Ea,0,e);else if(X(e,"readystatechange"),Et(e)==4){e.h=!1;try{let E=e.Z();t:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}var o;if(!(o=s)){var u;if(u=E===0){var g=String(e.D).match(wi)[1]||null;!g&&_.self&&_.self.location&&(g=_.self.location.protocol.slice(0,-1)),u=!lc.test(g?g.toLowerCase():"")}o=u}if(o)X(e,"complete"),X(e,"success");else{e.m=6;try{var T=2<Et(e)?e.g.statusText:""}catch{T=""}e.l=T+" ["+e.Z()+"]",Pi(e)}}finally{gn(e)}}}}function gn(e,s){if(e.g){Di(e);let o=e.g,u=e.v[0]?()=>{}:null;e.g=null,e.v=null,s||X(e,"ready");try{o.onreadystatechange=u}catch{}}}function Di(e){e.I&&(_.clearTimeout(e.I),e.I=null)}n.isActive=function(){return!!this.g};function Et(e){return e.g?e.g.readyState:0}n.Z=function(){try{return 2<Et(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(e){if(this.g){var s=this.g.responseText;return e&&s.indexOf(e)==0&&(s=s.substring(e.length)),$u(s)}};function ki(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function dc(e){let s={};e=(e.g&&2<=Et(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let u=0;u<e.length;u++){if(ot(e[u]))continue;var o=m(e[u]);let g=o[0];if(o=o[1],typeof o!="string")continue;o=o.trim();let T=s[g]||[];s[g]=T,T.push(o)}y(s,function(u){return u.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fe(e,s,o){return o&&o.internalChannelParams&&o.internalChannelParams[e]||s}function Ni(e){this.Aa=0,this.i=[],this.j=new Pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fe("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fe("baseRetryDelayMs",5e3,e),this.cb=Fe("retryDelaySeedMs",1e4,e),this.Wa=Fe("forwardChannelMaxRetries",2,e),this.wa=Fe("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(e&&e.concurrentRequestLimit),this.Da=new uc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ni.prototype,n.la=8,n.G=1,n.connect=function(e,s,o,u){Y(0),this.W=e,this.H=s||{},o&&u!==void 0&&(this.H.OSID=o,this.H.OAID=u),this.F=this.X,this.I=Bi(this,null,this.W),yn(this)};function Ir(e){if(xi(e),e.G==3){var s=e.U++,o=vt(e.I);if(F(o,"SID",e.K),F(o,"RID",s),F(o,"TYPE","terminate"),Me(e,o),s=new xt(e,e.j,s),s.L=2,s.v=pn(vt(o)),o=!1,_.navigator&&_.navigator.sendBeacon)try{o=_.navigator.sendBeacon(s.v.toString(),"")}catch{}!o&&_.Image&&(new Image().src=s.v,o=!0),o||(s.g=ji(s.j,null),s.g.ea(s.v)),s.F=Date.now(),hn(s)}qi(e)}function _n(e){e.g&&(Er(e),e.g.cancel(),e.g=null)}function xi(e){_n(e),e.u&&(_.clearTimeout(e.u),e.u=null),wn(e),e.h.cancel(),e.s&&(typeof e.s=="number"&&_.clearTimeout(e.s),e.s=null)}function yn(e){if(!pi(e.h)&&!e.s){e.s=!0;var s=e.Ga;Te||Gs(),Ie||(Te(),Ie=!0),tr.add(s,e),e.B=0}}function fc(e,s){return mi(e.h)>=e.h.j-(e.s?1:0)?!1:e.s?(e.i=s.D.concat(e.i),!0):e.G==1||e.G==2||e.B>=(e.Va?0:e.Wa)?!1:(e.s=Re(S(e.Ga,e,s),Ui(e,e.B)),e.B++,!0)}n.Ga=function(e){if(this.s)if(this.s=null,this.G==1){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let g=new xt(this,this.j,e),T=this.o;if(this.S&&(T?(T=l(T),p(T,this.S)):T=this.S),this.m!==null||this.O||(g.H=T,T=null),this.P)t:{for(var s=0,o=0;o<this.i.length;o++){e:{var u=this.i[o];if("__data__"in u.map&&(u=u.map.__data__,typeof u=="string")){u=u.length;break e}u=void 0}if(u===void 0)break;if(s+=u,4096<s){s=o;break t}if(s===4096||o===this.i.length-1){s=o+1;break t}}s=1e3}else s=1e3;s=Oi(this,g,s),o=vt(this.I),F(o,"RID",e),F(o,"CVER",22),this.D&&F(o,"X-HTTP-Session-Id",this.D),Me(this,o),T&&(this.O?s="headers="+encodeURIComponent(String(Si(T)))+"&"+s:this.m&&Tr(o,this.m,T)),wr(this.h,g),this.Ua&&F(o,"TYPE","init"),this.P?(F(o,"$req",s),F(o,"SID","null"),g.T=!0,mr(g,o,null)):mr(g,o,s),this.G=2}}else this.G==3&&(e?Vi(this,e):this.i.length==0||pi(this.h)||Vi(this))};function Vi(e,s){var o;s?o=s.l:o=e.U++;let u=vt(e.I);F(u,"SID",e.K),F(u,"RID",o),F(u,"AID",e.T),Me(e,u),e.m&&e.o&&Tr(u,e.m,e.o),o=new xt(e,e.j,o,e.B+1),e.m===null&&(o.H=e.o),s&&(e.i=s.D.concat(e.i)),s=Oi(e,o,1e3),o.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),wr(e.h,o),mr(o,u,s)}function Me(e,s){e.H&&tt(e.H,function(o,u){F(s,u,o)}),e.l&&yi({},function(o,u){F(s,u,o)})}function Oi(e,s,o){o=Math.min(e.i.length,o);var u=e.l?S(e.l.Na,e.l,e):null;t:{var g=e.i;let T=-1;for(;;){let E=["count="+o];T==-1?0<o?(T=g[0].g,E.push("ofs="+T)):T=0:E.push("ofs="+T);let V=!0;for(let $=0;$<o;$++){let x=g[$].g,W=g[$].map;if(x-=T,0>x)T=Math.max(0,g[$].g-100),V=!1;else try{cc(W,E,"req"+x+"_")}catch{u&&u(W)}}if(V){u=E.join("&");break t}}}return e=e.i.splice(0,o),s.D=e,u}function Fi(e){if(!e.g&&!e.u){e.Y=1;var s=e.Fa;Te||Gs(),Ie||(Te(),Ie=!0),tr.add(s,e),e.v=0}}function vr(e){return e.g||e.u||3<=e.v?!1:(e.Y++,e.u=Re(S(e.Fa,e),Ui(e,e.v)),e.v++,!0)}n.Fa=function(){if(this.u=null,Mi(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Re(S(this.ab,this),e)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Y(10),_n(this),Mi(this))};function Er(e){e.A!=null&&(_.clearTimeout(e.A),e.A=null)}function Mi(e){e.g=new xt(e,e.j,"rpc",e.Y),e.m===null&&(e.g.H=e.o),e.g.O=0;var s=vt(e.qa);F(s,"RID","rpc"),F(s,"SID",e.K),F(s,"AID",e.T),F(s,"CI",e.F?"0":"1"),!e.F&&e.ja&&F(s,"TO",e.ja),F(s,"TYPE","xmlhttp"),Me(e,s),e.m&&e.o&&Tr(s,e.m,e.o),e.L&&(e.g.I=e.L);var o=e.g;e=e.ia,o.L=1,o.v=pn(vt(s)),o.m=null,o.P=!0,li(o,e)}n.Za=function(){this.C!=null&&(this.C=null,_n(this),vr(this),Y(19))};function wn(e){e.C!=null&&(_.clearTimeout(e.C),e.C=null)}function Li(e,s){var o=null;if(e.g==s){wn(e),Er(e),e.g=null;var u=2}else if(yr(e.h,s))o=s.D,gi(e.h,s),u=1;else return;if(e.G!=0){if(s.o)if(u==1){o=s.m?s.m.length:0,s=Date.now()-s.F;var g=e.B;u=un(),X(u,new oi(u,o)),yn(e)}else Fi(e);else if(g=s.s,g==3||g==0&&0<s.X||!(u==1&&fc(e,s)||u==2&&vr(e)))switch(o&&0<o.length&&(s=e.h,s.i=s.i.concat(o)),g){case 1:Qt(e,5);break;case 4:Qt(e,10);break;case 3:Qt(e,6);break;default:Qt(e,2)}}}function Ui(e,s){let o=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(o*=2),o*s}function Qt(e,s){if(e.j.info("Error code "+s),s==2){var o=S(e.fb,e),u=e.Xa;let g=!u;u=new Wt(u||"//www.google.com/images/cleardot.gif"),_.location&&_.location.protocol=="http"||dn(u,"https"),pn(u),g?oc(u.toString(),o):ac(u.toString(),o)}else Y(2);e.G=0,e.l&&e.l.sa(s),qi(e),xi(e)}n.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Y(2)):(this.j.info("Failed to ping google.com"),Y(1))};function qi(e){if(e.G=0,e.ka=[],e.l){let s=_i(e.h);(s.length!=0||e.i.length!=0)&&(N(e.ka,s),N(e.ka,e.i),e.h.i.length=0,L(e.i),e.i.length=0),e.l.ra()}}function Bi(e,s,o){var u=o instanceof Wt?vt(o):new Wt(o);if(u.g!="")s&&(u.g=s+"."+u.g),fn(u,u.s);else{var g=_.location;u=g.protocol,s=s?s+"."+g.hostname:g.hostname,g=+g.port;var T=new Wt(null);u&&dn(T,u),s&&(T.g=s),g&&fn(T,g),o&&(T.l=o),u=T}return o=e.D,s=e.ya,o&&s&&F(u,o,s),F(u,"VER",e.la),Me(e,u),u}function ji(e,s,o){if(s&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=e.Ca&&!e.pa?new U(new xe({eb:o})):new U(e.pa),s.Ha(e.J),s}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $i(){}n=$i.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Tn(){}Tn.prototype.g=function(e,s){return new nt(e,s)};function nt(e,s){K.call(this),this.g=new Ni(s),this.l=e,this.h=s&&s.messageUrlParams||null,e=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(e?e["X-WebChannel-Content-Type"]=s.messageContentType:e={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(e?e["X-WebChannel-Client-Profile"]=s.va:e={"X-WebChannel-Client-Profile":s.va}),this.g.S=e,(e=s&&s.Sb)&&!ot(e)&&(this.g.m=e),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!ot(s)&&(this.g.D=s,e=this.h,e!==null&&s in e&&(e=this.h,s in e&&delete e[s])),this.j=new ie(this)}P(nt,K),nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nt.prototype.close=function(){Ir(this.g)},nt.prototype.o=function(e){var s=this.g;if(typeof e=="string"){var o={};o.__data__=e,e=o}else this.u&&(o={},o.__data__=cr(e),e=o);s.i.push(new Xu(s.Ya++,e)),s.G==3&&yn(s)},nt.prototype.N=function(){this.g.l=null,delete this.j,Ir(this.g),delete this.g,nt.aa.N.call(this)};function zi(e){hr.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var s=e.__sm__;if(s){t:{for(let o in s){e=o;break t}e=void 0}(this.i=e)&&(e=this.i,s=s!==null&&e in s?s[e]:void 0),this.data=s}else this.data=e}P(zi,hr);function Gi(){dr.call(this),this.status=1}P(Gi,dr);function ie(e){this.g=e}P(ie,$i),ie.prototype.ua=function(){X(this.g,"a")},ie.prototype.ta=function(e){X(this.g,new zi(e))},ie.prototype.sa=function(e){X(this.g,new Gi)},ie.prototype.ra=function(){X(this.g,"b")},Tn.prototype.createWebChannel=Tn.prototype.g,nt.prototype.send=nt.prototype.o,nt.prototype.open=nt.prototype.m,nt.prototype.close=nt.prototype.close,_a=St.createWebChannelTransport=function(){return new Tn},ga=St.getStatEventTarget=function(){return un()},ma=St.Event=Gt,pa=St.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cn.NO_ERROR=0,cn.TIMEOUT=8,cn.HTTP_ERROR=6,fa=St.ErrorCode=cn,ai.COMPLETE="complete",da=St.EventType=ai,ni.EventType=be,be.OPEN="a",be.CLOSE="b",be.ERROR="c",be.MESSAGE="d",K.prototype.listen=K.prototype.K,ha=St.WebChannel=ni,Jl=St.FetchXmlHttpFactory=xe,U.prototype.listenOnce=U.prototype.L,U.prototype.getLastError=U.prototype.Ka,U.prototype.getLastErrorCode=U.prototype.Ba,U.prototype.getStatus=U.prototype.Z,U.prototype.getResponseJson=U.prototype.Oa,U.prototype.getResponseText=U.prototype.oa,U.prototype.send=U.prototype.ea,U.prototype.setWithCredentials=U.prototype.Ha,la=St.XhrIo=U}).apply(typeof qn<"u"?qn:typeof self<"u"?self:typeof window<"u"?window:{});var ya="@firebase/firestore",wa="4.8.0";var z=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};z.UNAUTHENTICATED=new z(null),z.GOOGLE_CREDENTIALS=new z("google-credentials-uid"),z.FIRST_PARTY=new z("first-party-uid"),z.MOCK_USER=new z("mock-user");var Je="11.10.0";var ge=new Cn("@firebase/firestore");function pt(n,...t){if(ge.logLevel<=Pn.DEBUG){let r=t.map(bs);ge.debug(`Firestore (${Je}): ${n}`,...r)}}function Na(n,...t){if(ge.logLevel<=Pn.ERROR){let r=t.map(bs);ge.error(`Firestore (${Je}): ${n}`,...r)}}function Zl(n,...t){if(ge.logLevel<=Pn.WARN){let r=t.map(bs);ge.warn(`Firestore (${Je}): ${n}`,...r)}}function bs(n){if(typeof n=="string")return n;try{return(function(r){return JSON.stringify(r)})(n)}catch{return n}}function et(n,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,xa(n,i,r)}function xa(n,t,r){let i=`FIRESTORE (${Je}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(r!==void 0)try{i+=" CONTEXT: "+JSON.stringify(r)}catch{i+=" CONTEXT: "+r}throw Na(i),new Error(i)}function te(n,t,r,i){let a="Unexpected state";typeof r=="string"?a=r:i=r,n||xa(t,a,i)}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=class extends Lt{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ee=class{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}};var Bn=class{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},os=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(z.UNAUTHENTICATED))}shutdown(){}},as=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}},us=class{constructor(t){this.t=t,this.currentUser=z.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){te(this.o===void 0,42304);let i=this.i,a=I=>this.i!==i?(i=this.i,r(I)):Promise.resolve(),c=new ee;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ee,t.enqueueRetryable(()=>a(this.currentUser))};let f=()=>{let I=c;t.enqueueRetryable(()=>b(this,null,function*(){yield I.promise,yield a(this.currentUser)}))},_=I=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(I=>_(I)),setTimeout(()=>{if(!this.auth){let I=this.t.getImmediate({optional:!0});I?_(I):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ee)}},0),f()}getToken(){let t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(i=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(te(typeof i.accessToken=="string",31837,{l:i}),new Bn(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string",2055,{h:t}),new z(t)}},cs=class{constructor(t,r,i){this.P=t,this.T=r,this.I=i,this.type="FirstParty",this.user=z.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},ls=class{constructor(t,r,i){this.P=t,this.T=r,this.I=i}getToken(){return Promise.resolve(new cs(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(z.FIRST_PARTY))}shutdown(){}invalidateToken(){}},jn=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},hs=class{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){te(this.o===void 0,3512);let i=c=>{c.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);let f=c.token!==this.m;return this.m=c.token,pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>i(c))};let a=c=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){let c=this.V.getImmediate({optional:!0});c?a(c):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jn(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(te(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new jn(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function th(n){let t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let i=0;i<n;i++)r[i]=Math.floor(256*Math.random());return r}function eh(){return new TextEncoder}var ds=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let a=th(40);for(let c=0;c<a.length;++c)i.length<20&&a[c]<r&&(i+=t.charAt(a[c]%62))}return i}};function ut(n,t){return n<t?-1:n>t?1:0}function nh(n,t){let r=0;for(;r<n.length&&r<t.length;){let i=n.codePointAt(r),a=t.codePointAt(r);if(i!==a){if(i<128&&a<128)return ut(i,a);{let c=eh(),f=rh(c.encode(Ta(n,r)),c.encode(Ta(t,r)));return f!==0?f:ut(i,a)}}r+=i>65535?2:1}return ut(n.length,t.length)}function Ta(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function rh(n,t){for(let r=0;r<n.length&&r<t.length;++r)if(n[r]!==t[r])return ut(n[r],t[r]);return ut(n.length,t.length)}var Ia="__name__",$n=class n{constructor(t,r,i){r===void 0?r=0:r>t.length&&et(637,{offset:r,range:t.length}),i===void 0?i=t.length-r:i>t.length-r&&et(1746,{length:i,range:t.length-r}),this.segments=t,this.offset=r,this.len=i}get length(){return this.len}isEqual(t){return n.comparator(this,t)===0}child(t){let r=this.segments.slice(this.offset,this.limit());return t instanceof n?t.forEach(i=>{r.push(i)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,i=this.limit();r<i;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){let i=Math.min(t.length,r.length);for(let a=0;a<i;a++){let c=n.compareSegments(t.get(a),r.get(a));if(c!==0)return c}return ut(t.length,r.length)}static compareSegments(t,r){let i=n.isNumericId(t),a=n.isNumericId(r);return i&&!a?-1:!i&&a?1:i&&a?n.extractNumericId(t).compare(n.extractNumericId(r)):nh(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Un.fromString(t.substring(4,t.length-2))}},Rt=class n extends $n{construct(t,r,i){return new n(t,r,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let r=[];for(let i of t){if(i.indexOf("//")>=0)throw new C(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);r.push(...i.split("/").filter(a=>a.length>0))}return new n(r)}static emptyPath(){return new n([])}},sh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fs=class n extends $n{construct(t,r,i){return new n(t,r,i)}static isValidIdentifier(t){return sh.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ia}static keyField(){return new n([Ia])}static fromServerFormat(t){let r=[],i="",a=0,c=()=>{if(i.length===0)throw new C(k.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(i),i=""},f=!1;for(;a<t.length;){let _=t[a];if(_==="\\"){if(a+1===t.length)throw new C(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let I=t[a+1];if(I!=="\\"&&I!=="."&&I!=="`")throw new C(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=I,a+=2}else _==="`"?(f=!f,a++):_!=="."||f?(i+=_,a++):(c(),a++)}if(c(),f)throw new C(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(r)}static emptyPath(){return new n([])}};var Pt=class n{constructor(t){this.path=t}static fromPath(t){return new n(Rt.fromString(t))}static fromName(t){return new n(Rt.fromString(t).popFirst(5))}static empty(){return new n(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Rt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Rt.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new n(new Rt(t.slice()))}};function ih(n,t,r,i){if(t===!0&&i===!0)throw new C(k.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function oh(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ah(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":et(12329,{type:typeof n})}function uh(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new C(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=ah(n);throw new C(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return n}function B(n,t){let r={typeString:n};return t&&(r.value=t),r}function Ze(n,t){if(!oh(n))throw new C(k.INVALID_ARGUMENT,"JSON must be an object");let r;for(let i in t)if(t[i]){let a=t[i].typeString,c="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){r=`JSON missing required field: '${i}'`;break}let f=n[i];if(a&&typeof f!==a){r=`JSON field '${i}' must be a ${a}.`;break}if(c!==void 0&&f!==c.value){r=`Expected '${i}' field to equal '${c.value}'`;break}}if(r)throw new C(k.INVALID_ARGUMENT,r);return!0}var va=-62135596800,Ea=1e6,Ke=class n{static now(){return n.fromMillis(Date.now())}static fromDate(t){return n.fromMillis(t.getTime())}static fromMillis(t){let r=Math.floor(t/1e3),i=Math.floor((t-1e3*r)*Ea);return new n(r,i)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new C(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new C(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<va)throw new C(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new C(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ea}_compareTo(t){return this.seconds===t.seconds?ut(this.nanoseconds,t.nanoseconds):ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ze(t,n._jsonSchema))return new n(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-va;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:B("string",Ke._jsonSchemaVersion),seconds:B("number"),nanoseconds:B("number")};var ps=class{constructor(t,r,i,a){this.indexId=t,this.collectionGroup=r,this.fields=i,this.indexState=a}};ps.UNKNOWN_ID=-1;function ch(n){return n.name==="IndexedDbTransactionError"}function lh(n){return n===0&&1/n==-1/0}var hh="remoteDocuments",Va="owner";var Oa="mutationQueues";var Fa="mutations";var Ma="documentMutations",dh="remoteDocumentsV14";var La="remoteDocumentGlobal";var Ua="targets";var qa="targetDocuments";var Ba="targetGlobal",ja="collectionParents";var $a="clientMetadata";var za="bundles";var Ga="namedQueries";var fh="indexConfiguration";var ph="indexState";var mh="indexEntries";var Ka="documentOverlays";var gh="globals";var _h=[Oa,Fa,Ma,hh,Ua,Va,Ba,qa,$a,La,ja,za,Ga],gp=[..._h,Ka],yh=[Oa,Fa,Ma,dh,Ua,Va,Ba,qa,$a,La,ja,za,Ga,Ka],wh=yh,Th=[...wh,fh,ph,mh];var _p=[...Th,gh];var _e=class n{constructor(t,r){this.comparator=t,this.root=r||yt.EMPTY}insert(t,r){return new n(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(t){return new n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){let i=this.comparator(t,r.key);if(i===0)return r.value;i<0?r=r.left:i>0&&(r=r.right)}return null}indexOf(t){let r=0,i=this.root;for(;!i.isEmpty();){let a=this.comparator(t,i.key);if(a===0)return r+i.left.size;a<0?i=i.left:(r+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,i)=>(t(r,i),!1))}toString(){let t=[];return this.inorderTraversal((r,i)=>(t.push(`${r}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new de(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new de(this.root,t,this.comparator,!1)}getReverseIterator(){return new de(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new de(this.root,t,this.comparator,!0)}},de=class{constructor(t,r,i,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?i(t.key,r):1,r&&a&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},yt=class n{constructor(t,r,i,a,c){this.key=t,this.value=r,this.color=i??n.RED,this.left=a??n.EMPTY,this.right=c??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,i,a,c){return new n(t??this.key,r??this.value,i??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let a=this,c=i(t,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(t,r,i),null):c===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let i,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return n.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw et(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw et(27949);return t+(this.isRed()?0:1)}};yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw et(57766)}get value(){throw et(16141)}get color(){throw et(16727)}get left(){throw et(29726)}get right(){throw et(36894)}copy(t,r,i,a,c){return this}insert(t,r,i){return new yt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var zn=class n{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,i)=>(t(r),!1))}forEachInRange(t,r){let i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){let a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let i;for(i=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){let r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Gn(this.data.getIterator())}getIteratorFrom(t){return new Gn(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(i=>{r=r.add(i)}),r}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let r=this.data.getIterator(),i=t.data.getIterator();for(;r.hasNext();){let a=r.getNext().key,c=i.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(r=>{t.push(r)}),t}toString(){let t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){let r=new n(this.comparator);return r.data=t,r}},Gn=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ms=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var zt=class n{constructor(t){this.binaryString=t}static fromBase64String(t){let r=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ms("Invalid base64 string: "+c):c}})(t);return new n(r)}static fromUint8Array(t){let r=(function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c})(t);return new n(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){let i=new Uint8Array(r.length);for(let a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};zt.EMPTY_BYTE_STRING=new zt("");var Ih=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vh(n){if(te(!!n,39018),typeof n=="string"){let t=0,r=Ih.exec(n);if(te(!!r,46558,{timestamp:n}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:We(n.seconds),nanos:We(n.nanos)}}function We(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Eh(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}var gs="(default)",_s=class n{constructor(t,r){this.projectId=t,this.database=r||gs}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===gs}isEqual(t){return t instanceof n&&t.projectId===this.projectId&&t.database===this.database}};var Wa="__type__",Ah="__max__";var Qa="__vector__",Ha="value";function bh(n){var t,r;return((r=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{})[Wa])===null||r===void 0?void 0:r.stringValue)===Qa}function Sh(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ah}var wp={mapValue:{fields:{[Wa]:{stringValue:Qa},[Ha]:{arrayValue:{}}}}};var ys=class{constructor(t,r=null,i=[],a=[],c=null,f="F",_=null,I=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=f,this.startAt=_,this.endAt=I,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Rh(n){return new ys(n)}var Tp=new _e(Pt.comparator);var Ip=new _e(Pt.comparator);var vp=new _e(Pt.comparator),Ep=new zn(Pt.comparator);var Ap=new zn(ut);var Aa,D;(D=Aa||(Aa={}))[D.OK=0]="OK",D[D.CANCELLED=1]="CANCELLED",D[D.UNKNOWN=2]="UNKNOWN",D[D.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",D[D.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",D[D.NOT_FOUND=5]="NOT_FOUND",D[D.ALREADY_EXISTS=6]="ALREADY_EXISTS",D[D.PERMISSION_DENIED=7]="PERMISSION_DENIED",D[D.UNAUTHENTICATED=16]="UNAUTHENTICATED",D[D.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",D[D.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",D[D.ABORTED=10]="ABORTED",D[D.OUT_OF_RANGE=11]="OUT_OF_RANGE",D[D.UNIMPLEMENTED=12]="UNIMPLEMENTED",D[D.INTERNAL=13]="INTERNAL",D[D.UNAVAILABLE=14]="UNAVAILABLE",D[D.DATA_LOSS=15]="DATA_LOSS";var bp=new Un([4294967295,4294967295],0);var Kn=class{constructor(){}bt(t,r){this.Dt(t,r),r.vt()}Dt(t,r){if("nullValue"in t)this.Ct(r,5);else if("booleanValue"in t)this.Ct(r,10),r.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(r,15),r.Ft(We(t.integerValue));else if("doubleValue"in t){let i=We(t.doubleValue);isNaN(i)?this.Ct(r,13):(this.Ct(r,15),lh(i)?r.Ft(0):r.Ft(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ct(r,20),typeof i=="string"&&(i=vh(i)),r.Mt(`${i.seconds||""}`),r.Ft(i.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,r),this.Ot(r);else if("bytesValue"in t)this.Ct(r,30),r.Nt(Eh(t.bytesValue)),this.Ot(r);else if("referenceValue"in t)this.Bt(t.referenceValue,r);else if("geoPointValue"in t){let i=t.geoPointValue;this.Ct(r,45),r.Ft(i.latitude||0),r.Ft(i.longitude||0)}else"mapValue"in t?Sh(t)?this.Ct(r,Number.MAX_SAFE_INTEGER):bh(t)?this.Lt(t.mapValue,r):(this.kt(t.mapValue,r),this.Ot(r)):"arrayValue"in t?(this.qt(t.arrayValue,r),this.Ot(r)):et(19022,{Qt:t})}xt(t,r){this.Ct(r,25),this.$t(t,r)}$t(t,r){r.Mt(t)}kt(t,r){let i=t.fields||{};this.Ct(r,55);for(let a of Object.keys(i))this.xt(a,r),this.Dt(i[a],r)}Lt(t,r){var i,a;let c=t.fields||{};this.Ct(r,53);let f=Ha,_=((a=(i=c[f].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.length)||0;this.Ct(r,15),r.Ft(We(_)),this.xt(f,r),this.Dt(c[f],r)}qt(t,r){let i=t.values||[];this.Ct(r,50);for(let a of i)this.Dt(a,r)}Bt(t,r){this.Ct(r,37),Pt.fromName(t).path.forEach(i=>{this.Ct(r,60),this.$t(i,r)})}Ct(t,r){t.Ft(r)}Ot(t){t.Ft(2)}};Kn.Ut=new Kn;var Sp=new Uint8Array(0);var Xa=41943040,_t=class n{static withCacheSize(t){return new n(t,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=i}};_t.DEFAULT_COLLECTION_PERCENTILE=10,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_t.DEFAULT=new _t(Xa,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_t.DISABLED=new _t(-1,0,0);var Ph=1048576;function is(){return typeof document<"u"?document:null}var ws=class{constructor(t,r,i=1e3,a=1.5,c=6e4){this.Fi=t,this.timerId=r,this.d_=i,this.E_=a,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();let r=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),a=Math.max(0,r-i);a>0&&pt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Ts=class n{constructor(t,r,i,a,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=i,this.op=a,this.removalCallback=c,this.deferred=new ee,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,i,a,c){let f=Date.now()+i,_=new n(t,r,f,a,c);return _.start(i),_}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new C(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var ba,Sa;(Sa=ba||(ba={})).Fa="default",Sa.Cache="cache";function Ch(n){let t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}var Ra=new Map;var Ya="firestore.googleapis.com",Pa=!0,Wn=class{constructor(t){var r,i;if(t.host===void 0){if(t.ssl!==void 0)throw new C(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ya,this.ssl=Pa}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:Pa;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Xa;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ph)throw new C(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ih("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ch((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new C(k.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new C(k.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new C(k.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Qn=class{constructor(t,r,i,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wn({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new C(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new C(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wn(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new os;switch(i.type){case"firstParty":return new ls(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new C(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){let i=Ra.get(r);i&&(pt("ComponentProvider","Removing Datastore"),Ra.delete(r),i.terminate())})(this),Promise.resolve()}};function Ja(n,t,r,i={}){var a;n=uh(n,Qn);let c=En(t),f=n._getSettings(),_=Object.assign(Object.assign({},f),{emulatorOptions:n._getEmulatorOptions()}),I=`${t}:${r}`;c&&(An(`https://${I}`),Sn("Firestore",!0)),f.host!==Ya&&f.host!==I&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let A=Object.assign(Object.assign({},f),{host:I,ssl:c,emulatorOptions:i});if(!Rn(A,_)&&(n._setSettings(A),i.mockUserToken)){let v,R;if(typeof i.mockUserToken=="string")v=i.mockUserToken,R=z.MOCK_USER;else{v=bn(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);let S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new C(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new z(S)}n._authCredentials=new as(new Bn(v,R))}}var Is=class n{constructor(t,r,i){this.converter=r,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new n(this.firestore,t,this._query)}},ne=class n{constructor(t,r,i){this.converter=r,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new n(this.firestore,t,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,i){if(Ze(r,n._jsonSchema))return new n(t,i||null,new Pt(Rt.fromString(r.referencePath)))}};ne._jsonSchemaVersion="firestore/documentReference/1.0",ne._jsonSchema={type:B("string",ne._jsonSchemaVersion),referencePath:B("string")};var vs=class n extends Is{constructor(t,r,i){super(t,r,Rh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new ne(this.firestore,null,new Pt(t))}withConverter(t){return new n(this.firestore,t,this._path)}};var Ca="AsyncQueue",Hn=class{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new ws(this,"async_queue_retry"),this.oc=()=>{let i=is();i&&pt(Ca,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=t;let r=is();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;let r=is();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});let r=new ee;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){return b(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!ch(t))throw t;pt(Ca,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(t){let r=this._c.then(()=>(this.nc=!0,t().catch(i=>{throw this.tc=i,this.nc=!1,Na("INTERNAL UNHANDLED ERROR: ",Da(i)),i}).then(i=>(this.nc=!1,i))));return this._c=r,r}enqueueAfterDelay(t,r,i){this.ac(),this.sc.indexOf(t)>-1&&(r=0);let a=Ts.createAndSchedule(this,t,r,i,c=>this.lc(c));return this.ec.push(a),a}ac(){this.tc&&et(47125,{hc:Da(this.tc)})}verifyOperationInProgress(){}Pc(){return b(this,null,function*(){let t;do t=this._c,yield t;while(t!==this._c)})}Tc(t){for(let r of this.ec)if(r.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((r,i)=>r.targetTimeMs-i.targetTimeMs);for(let r of this.ec)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){let r=this.ec.indexOf(t);this.ec.splice(r,1)}};function Da(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}var Es=class extends Qn{constructor(t,r,i,a){super(t,r,i,a),this.type="firestore",this._queue=new Hn,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new Hn(t),this._firestoreClient=void 0,yield t}})}};function Za(n,t){let r=typeof n=="object"?n:bt(),i=typeof n=="string"?n:t||gs,a=at(r,"firestore").getImmediate({identifier:i});if(!a._initialized){let c=vn("firestore");c&&Ja(a,...c)}return a}var Qe=class n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new n(zt.fromBase64String(t))}catch(r){throw new C(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new n(zt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ze(t,n._jsonSchema))return n.fromBase64String(t.bytes)}};Qe._jsonSchemaVersion="firestore/bytes/1.0",Qe._jsonSchema={type:B("string",Qe._jsonSchemaVersion),bytes:B("string")};var Xn=class{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new C(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var He=class n{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new C(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new C(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ut(this._lat,t._lat)||ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(t){if(Ze(t,n._jsonSchema))return new n(t.latitude,t.longitude)}};He._jsonSchemaVersion="firestore/geoPoint/1.0",He._jsonSchema={type:B("string",He._jsonSchemaVersion),latitude:B("number"),longitude:B("number")};var Xe=class n{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==a[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ze(t,n._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new n(t.vectorValues);throw new C(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Xe._jsonSchemaVersion="firestore/vectorValue/1.0",Xe._jsonSchema={type:B("string",Xe._jsonSchemaVersion),vectorValues:B("object")};var Dh=new RegExp("[~\\*/\\[\\]]");function kh(n,t,r){if(t.search(Dh)>=0)throw ka(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new Xn(...t.split("."))._internalPath}catch{throw ka(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function ka(n,t,r,i,a){let c=i&&!i.isEmpty(),f=a!==void 0,_=`Function ${t}() called with invalid data`;r&&(_+=" (via `toFirestore()`)"),_+=". ";let I="";return(c||f)&&(I+=" (found",c&&(I+=` in field ${i}`),f&&(I+=` in document ${a}`),I+=")"),new C(k.INVALID_ARGUMENT,_+n+I)}var Yn=class{constructor(t,r,i,a,c){this._firestore=t,this._userDataWriter=r,this._key=i,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new As(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let r=this._document.data.field(tu("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}},As=class extends Yn{data(){return super.data()}};function tu(n,t){return typeof t=="string"?kh(n,t):t instanceof Xn?t._internalPath:t._delegate._internalPath}var fe=class{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},pe=class n extends Yn{constructor(t,r,i,a,c,f){super(t,r,i,a,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let r=new me(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){let i=this._document.data.field(tu("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new C(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,r={};return r.type=n._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}};pe._jsonSchemaVersion="firestore/documentSnapshot/1.0",pe._jsonSchema={type:B("string",pe._jsonSchemaVersion),bundleSource:B("string","DocumentSnapshot"),bundleName:B("string"),bundle:B("string")};var me=class extends pe{data(t={}){return super.data(t)}},Ye=class n{constructor(t,r,i,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new fe(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){let t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(i=>{t.call(r,new me(this._firestore,this._userDataWriter,i.key,i,new fe(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new C(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(_=>{let I=new me(a._firestore,a._userDataWriter,_.doc.key,_.doc,new fe(a._snapshot.mutatedKeys.has(_.doc.key),a._snapshot.fromCache),a.query.converter);return _.doc,{type:"added",doc:I,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(_=>c||_.type!==3).map(_=>{let I=new me(a._firestore,a._userDataWriter,_.doc.key,_.doc,new fe(a._snapshot.mutatedKeys.has(_.doc.key),a._snapshot.fromCache),a.query.converter),A=-1,v=-1;return _.type!==0&&(A=f.indexOf(_.doc.key),f=f.delete(_.doc.key)),_.type!==1&&(f=f.add(_.doc),v=f.indexOf(_.doc.key)),{type:Nh(_.type),doc:I,oldIndex:A,newIndex:v}})}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new C(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=n._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ds.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let r=[],i=[],a=[];return this.docs.forEach(c=>{c._document!==null&&(r.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function Nh(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et(61501,{type:n})}}Ye._jsonSchemaVersion="firestore/querySnapshot/1.0",Ye._jsonSchema={type:B("string",Ye._jsonSchemaVersion),bundleSource:B("string","QuerySnapshot"),bundleName:B("string"),bundle:B("string")};(function(t,r=!0){(function(a){Je=a})(Nn),st(new rt("firestore",(i,{instanceIdentifier:a,options:c})=>{let f=i.getProvider("app").getImmediate(),_=new Es(new us(i.getProvider("auth-internal")),new hs(f,i.getProvider("app-check-internal")),(function(A,v){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new C(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _s(A.options.projectId,v)})(f,a),f);return c=Object.assign({useFetchStreams:r},c),_._setSettings(c),_},"PUBLIC").setMultipleInstances(!0)),M(ya,wa,t),M(ya,wa,"esm2017")})();var tn=class{constructor(t){return t}},eu="firestore",Ss=class{constructor(){return qt(eu)}};var Rs=new Ft("angularfire2.firestore-instances");function xh(n,t){let r=Ut(eu,n,t);return r&&new tn(r)}function Vh(n){return(t,r)=>{let i=t.runOutsideAngular(()=>n(r));return new tn(i)}}var Oh={provide:Ss,deps:[[new H,Rs]]},Fh={provide:tn,useFactory:xh,deps:[[new H,Rs],jt]};function nu(n,...t){return M("angularfire",gt.full,"fst"),Mt([Fh,Oh,{provide:Rs,useFactory:Vh(n),multi:!0,deps:[dt,ht,Bt,$t,[new H,Vn],[new H,xn],...t]}])}var ru=ft(Za,!0);var Mh="/firebase-messaging-sw.js",Lh="/firebase-cloud-messaging-push-scope",lu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Uh="https://fcmregistrations.googleapis.com/v1",hu="google.c.a.c_id",qh="google.c.a.c_l",Bh="google.c.a.ts",jh="google.c.a.e",su=1e4;var Jn=(function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n})(Jn||{});function Ct(n){let t=new Uint8Array(n);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $h(n){let t="=".repeat((4-n.length%4)%4),r=(n+t).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(r),a=new Uint8Array(i.length);for(let c=0;c<i.length;++c)a[c]=i.charCodeAt(c);return a}var Ps="fcm_token_details_db",zh=5,iu="fcm_token_object_Store";function Gh(n){return b(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(c=>c.name).includes(Ps))return null;let t=null;return(yield $e(Ps,zh,{upgrade:(i,a,c,f)=>b(null,null,function*(){var _;if(a<2||!i.objectStoreNames.contains(iu))return;let I=f.objectStore(iu),A=yield I.index("fcmSenderId").get(n);if(yield I.clear(),!!A){if(a===2){let v=A;if(!v.auth||!v.p256dh||!v.endpoint)return;t={token:v.fcmToken,createTime:(_=v.createTime)!==null&&_!==void 0?_:Date.now(),subscriptionOptions:{auth:v.auth,p256dh:v.p256dh,endpoint:v.endpoint,swScope:v.swScope,vapidKey:typeof v.vapidKey=="string"?v.vapidKey:Ct(v.vapidKey)}}}else if(a===3){let v=A;t={token:v.fcmToken,createTime:v.createTime,subscriptionOptions:{auth:Ct(v.auth),p256dh:Ct(v.p256dh),endpoint:v.endpoint,swScope:v.swScope,vapidKey:Ct(v.vapidKey)}}}else if(a===4){let v=A;t={token:v.fcmToken,createTime:v.createTime,subscriptionOptions:{auth:Ct(v.auth),p256dh:Ct(v.p256dh),endpoint:v.endpoint,swScope:v.swScope,vapidKey:Ct(v.vapidKey)}}}}})})).close(),yield Dn(Ps),yield Dn("fcm_vapid_details_db"),yield Dn("undefined"),Kh(t)?t:null})}function Kh(n){if(!n||!n.subscriptionOptions)return!1;let{subscriptionOptions:t}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}var Wh="firebase-messaging-database",Qh=1,en="firebase-messaging-store",Cs=null;function du(){return Cs||(Cs=$e(Wh,Qh,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(en)}}})),Cs}function Hh(n){return b(this,null,function*(){let t=fu(n),i=yield(yield du()).transaction(en).objectStore(en).get(t);if(i)return i;{let a=yield Gh(n.appConfig.senderId);if(a)return yield Ns(n,a),a}})}function Ns(n,t){return b(this,null,function*(){let r=fu(n),a=(yield du()).transaction(en,"readwrite");return yield a.objectStore(en).put(t,r),yield a.done,t})}function fu({appConfig:n}){return n.appId}var Xh={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Z=new le("messaging","Messaging",Xh);function Yh(n,t){return b(this,null,function*(){let r=yield Vs(n),i=pu(t),a={method:"POST",headers:r,body:JSON.stringify(i)},c;try{c=yield(yield fetch(xs(n.appConfig),a)).json()}catch(f){throw Z.create("token-subscribe-failed",{errorInfo:f?.toString()})}if(c.error){let f=c.error.message;throw Z.create("token-subscribe-failed",{errorInfo:f})}if(!c.token)throw Z.create("token-subscribe-no-token");return c.token})}function Jh(n,t){return b(this,null,function*(){let r=yield Vs(n),i=pu(t.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},c;try{c=yield(yield fetch(`${xs(n.appConfig)}/${t.token}`,a)).json()}catch(f){throw Z.create("token-update-failed",{errorInfo:f?.toString()})}if(c.error){let f=c.error.message;throw Z.create("token-update-failed",{errorInfo:f})}if(!c.token)throw Z.create("token-update-no-token");return c.token})}function Zh(n,t){return b(this,null,function*(){let i={method:"DELETE",headers:yield Vs(n)};try{let c=yield(yield fetch(`${xs(n.appConfig)}/${t}`,i)).json();if(c.error){let f=c.error.message;throw Z.create("token-unsubscribe-failed",{errorInfo:f})}}catch(a){throw Z.create("token-unsubscribe-failed",{errorInfo:a?.toString()})}})}function xs({projectId:n}){return`${Uh}/projects/${n}/registrations`}function Vs(r){return b(this,arguments,function*({appConfig:n,installations:t}){let i=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})})}function pu({p256dh:n,auth:t,endpoint:r,vapidKey:i}){let a={web:{endpoint:r,auth:t,p256dh:n}};return i!==lu&&(a.web.applicationPubKey=i),a}var td=10080*60*1e3;function ed(n){return b(this,null,function*(){let t=yield rd(n.swRegistration,n.vapidKey),r={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:t.endpoint,auth:Ct(t.getKey("auth")),p256dh:Ct(t.getKey("p256dh"))},i=yield Hh(n.firebaseDependencies);if(i){if(sd(i.subscriptionOptions,r))return Date.now()>=i.createTime+td?nd(n,{token:i.token,createTime:Date.now(),subscriptionOptions:r}):i.token;try{yield Zh(n.firebaseDependencies,i.token)}catch(a){console.warn(a)}return ou(n.firebaseDependencies,r)}else return ou(n.firebaseDependencies,r)})}function nd(n,t){return b(this,null,function*(){try{let r=yield Jh(n.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:r,createTime:Date.now()});return yield Ns(n.firebaseDependencies,i),r}catch(r){throw r}})}function ou(n,t){return b(this,null,function*(){let i={token:yield Yh(n,t),createTime:Date.now(),subscriptionOptions:t};return yield Ns(n,i),i.token})}function rd(n,t){return b(this,null,function*(){let r=yield n.pushManager.getSubscription();return r||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$h(t)})})}function sd(n,t){let r=t.vapidKey===n.vapidKey,i=t.endpoint===n.endpoint,a=t.auth===n.auth,c=t.p256dh===n.p256dh;return r&&i&&a&&c}function au(n){let t={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return id(t,n),od(t,n),ad(t,n),t}function id(n,t){if(!t.notification)return;n.notification={};let r=t.notification.title;r&&(n.notification.title=r);let i=t.notification.body;i&&(n.notification.body=i);let a=t.notification.image;a&&(n.notification.image=a);let c=t.notification.icon;c&&(n.notification.icon=c)}function od(n,t){t.data&&(n.data=t.data)}function ad(n,t){var r,i,a,c,f;if(!t.fcmOptions&&!(!((r=t.notification)===null||r===void 0)&&r.click_action))return;n.fcmOptions={};let _=(a=(i=t.fcmOptions)===null||i===void 0?void 0:i.link)!==null&&a!==void 0?a:(c=t.notification)===null||c===void 0?void 0:c.click_action;_&&(n.fcmOptions.link=_);let I=(f=t.fcmOptions)===null||f===void 0?void 0:f.analytics_label;I&&(n.fcmOptions.analyticsLabel=I)}function ud(n){return typeof n=="object"&&!!n&&hu in n}cd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function cd(n,t){let r=[];for(let i=0;i<n.length;i++)r.push(n.charAt(i)),i<t.length&&r.push(t.charAt(i));return r.join("")}function ld(n){if(!n||!n.options)throw Ds("App Configuration Object");if(!n.name)throw Ds("App Name");let t=["projectId","apiKey","appId","messagingSenderId"],{options:r}=n;for(let i of t)if(!r[i])throw Ds(i);return{appName:n.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function Ds(n){return Z.create("missing-app-config-values",{valueName:n})}var ks=class{constructor(t,r,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let a=ld(t);this.firebaseDependencies={app:t,appConfig:a,installations:r,analyticsProvider:i}}_delete(){return Promise.resolve()}};function hd(n){return b(this,null,function*(){try{n.swRegistration=yield navigator.serviceWorker.register(Mh,{scope:Lh}),n.swRegistration.update().catch(()=>{}),yield dd(n.swRegistration)}catch(t){throw Z.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})}function dd(n){return b(this,null,function*(){return new Promise((t,r)=>{let i=setTimeout(()=>r(new Error(`Service worker not registered after ${su} ms`)),su),a=n.installing||n.waiting;n.active?(clearTimeout(i),t()):a?a.onstatechange=c=>{var f;((f=c.target)===null||f===void 0?void 0:f.state)==="activated"&&(a.onstatechange=null,clearTimeout(i),t())}:(clearTimeout(i),r(new Error("No incoming service worker found.")))})})}function fd(n,t){return b(this,null,function*(){if(!t&&!n.swRegistration&&(yield hd(n)),!(!t&&n.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw Z.create("invalid-sw-registration");n.swRegistration=t}})}function pd(n,t){return b(this,null,function*(){t?n.vapidKey=t:n.vapidKey||(n.vapidKey=lu)})}function md(n,t){return b(this,null,function*(){if(!navigator)throw Z.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Z.create("permission-blocked");return yield pd(n,t?.vapidKey),yield fd(n,t?.serviceWorkerRegistration),ed(n)})}function gd(n,t,r){return b(this,null,function*(){let i=_d(t);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:r[hu],message_name:r[qh],message_time:r[Bh],message_device_time:Math.floor(Date.now()/1e3)})})}function _d(n){switch(n){case Jn.NOTIFICATION_CLICKED:return"notification_open";case Jn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yd(n,t){return b(this,null,function*(){let r=t.data;if(!r.isFirebaseMessaging)return;n.onMessageHandler&&r.messageType===Jn.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(au(r)):n.onMessageHandler.next(au(r)));let i=r.data;ud(i)&&i[jh]==="1"&&(yield gd(n,r.messageType,i))})}var uu="@firebase/messaging",cu="0.12.22";var wd=n=>{let t=new ks(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>yd(t,r)),t},Td=n=>{let t=n.getProvider("messaging").getImmediate();return{getToken:i=>md(t,i)}};function Id(){st(new rt("messaging",wd,"PUBLIC")),st(new rt("messaging-internal",Td,"PRIVATE")),M(uu,cu),M(uu,cu,"esm2017")}function mu(){return b(this,null,function*(){try{yield Be()}catch{return!1}return typeof window<"u"&&ce()&&je()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function gu(n=bt()){return mu().then(t=>{if(!t)throw Z.create("unsupported-browser")},t=>{throw Z.create("indexed-db-unsupported")}),at(At(n),"messaging").getImmediate()}Id();var nn=class{constructor(t){return t}},_u="messaging",Os=class{constructor(){return qt(_u)}};var Fs=new Ft("angularfire2.messaging-instances");function vd(n,t,r){if(Or(r))return null;let i=Ut(_u,n,t);return i&&new nn(i)}function Ed(n){return(t,r,i)=>{if(Or(i))return null;let a=t.runOutsideAngular(()=>n(r));return new nn(a)}}var Ad={provide:Os,deps:[[new H,Fs]]},bd={provide:nn,useFactory:vd,deps:[[new H,Fs],jt,ue]};function yu(n,...t){return M("angularfire",gt.full,"fcm"),Mt([bd,Ad,{provide:Fs,useFactory:Ed(n),multi:!0,deps:[dt,ht,ue,Bt,$t,...t]}])}var wu=ft(gu,!0);var bu="firebasestorage.googleapis.com",Sd="storageBucket",Rd=120*1e3,Pd=600*1e3;var wt=class n extends Lt{constructor(t,r,i=0){super(Ms(t),`Firebase Storage: ${r} (${Ms(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ms(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},kt=(function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n})(kt||{});function Ms(n){return"storage/"+n}function Cd(){let n="An unknown error occurred, please check the error payload for server response.";return new wt(kt.UNKNOWN,n)}function Dd(){return new wt(kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kd(){return new wt(kt.CANCELED,"User canceled the upload/download.")}function Nd(n){return new wt(kt.INVALID_URL,"Invalid URL '"+n+"'.")}function xd(n){return new wt(kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Tu(n){return new wt(kt.INVALID_ARGUMENT,n)}function Su(){return new wt(kt.APP_DELETED,"The Firebase app was deleted.")}function Vd(n){return new wt(kt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Dt=class n{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let i;try{i=n.makeFromUrl(t,r)}catch{return new n(t,"")}if(i.path==="")return i;throw xd(t)}static makeFromUrl(t,r){let i=null,a="([A-Za-z0-9.\\-_]+)";function c(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}let f="(/(.*))?$",_=new RegExp("^gs://"+a+f,"i"),I={bucket:1,path:3};function A(q){q.path_=decodeURIComponent(q.path)}let v="v[A-Za-z0-9_]+",R=r.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",O=new RegExp(`^https?://${R}/${v}/b/${a}/o${S}`,"i"),P={bucket:1,path:3},L=r===bu?"(?:storage.googleapis.com|storage.cloud.google.com)":r,N="([^?#]*)",ct=new RegExp(`^https?://${L}/${a}/${N}`,"i"),j=[{regex:_,indices:I,postModify:c},{regex:O,indices:P,postModify:A},{regex:ct,indices:{bucket:1,path:2},postModify:A}];for(let q=0;q<j.length;q++){let Tt=j[q],tt=Tt.regex.exec(t);if(tt){let y=tt[Tt.indices.bucket],l=tt[Tt.indices.path];l||(l=""),i=new n(y,l),Tt.postModify(i);break}}if(i==null)throw Nd(t);return i}},Ls=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function Od(n,t,r){let i=1,a=null,c=null,f=!1,_=0;function I(){return _===2}let A=!1;function v(...N){A||(A=!0,t.apply(null,N))}function R(N){a=setTimeout(()=>{a=null,n(O,I())},N)}function S(){c&&clearTimeout(c)}function O(N,...ct){if(A){S();return}if(N){S(),v.call(null,N,...ct);return}if(I()||f){S(),v.call(null,N,...ct);return}i<64&&(i*=2);let j;_===1?(_=2,j=0):j=(i+Math.random())*1e3,R(j)}let P=!1;function L(N){P||(P=!0,S(),!A&&(a!==null?(N||(_=2),clearTimeout(a),R(0)):N||(_=1)))}return R(0),c=setTimeout(()=>{f=!0,L(!0)},r),L}function Fd(n){n(!1)}function Md(n){return n!==void 0}function Iu(n,t,r,i){if(i<t)throw Tu(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>r)throw Tu(`Invalid value for '${n}'. Expected ${r} or less.`)}function Ld(n){let t=encodeURIComponent,r="?";for(let i in n)if(n.hasOwnProperty(i)){let a=t(i)+"="+t(n[i]);r=r+a+"&"}return r=r.slice(0,-1),r}var Us=(function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n})(Us||{});function Ud(n,t){let r=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,c=t.indexOf(n)!==-1;return r||a||c}var qs=class{constructor(t,r,i,a,c,f,_,I,A,v,R,S=!0,O=!1){this.url_=t,this.method_=r,this.headers_=i,this.body_=a,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=_,this.errorCallback_=I,this.timeout_=A,this.progressCallback_=v,this.connectionFactory_=R,this.retry=S,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,L)=>{this.resolve_=P,this.reject_=L,this.start_()})}start_(){let t=(i,a)=>{if(a){i(!1,new ye(!1,null,!0));return}let c=this.connectionFactory_();this.pendingConnection_=c;let f=_=>{let I=_.loaded,A=_.lengthComputable?_.total:-1;this.progressCallback_!==null&&this.progressCallback_(I,A)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;let _=c.getErrorCode()===Us.NO_ERROR,I=c.getStatus();if(!_||Ud(I,this.additionalRetryCodes_)&&this.retry){let v=c.getErrorCode()===Us.ABORT;i(!1,new ye(!1,null,v));return}let A=this.successCodes_.indexOf(I)!==-1;i(!0,new ye(A,c))})},r=(i,a)=>{let c=this.resolve_,f=this.reject_,_=a.connection;if(a.wasSuccessCode)try{let I=this.callback_(_,_.getResponse());Md(I)?c(I):c()}catch(I){f(I)}else if(_!==null){let I=Cd();I.serverResponse=_.getErrorText(),this.errorCallback_?f(this.errorCallback_(_,I)):f(I)}else if(a.canceled){let I=this.appDelete_?Su():kd();f(I)}else{let I=Dd();f(I)}};this.canceled_?r(!1,new ye(!1,null,!0)):this.backoffId_=Od(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Fd(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ye=class{constructor(t,r,i){this.wasSuccessCode=t,this.connection=r,this.canceled=!!i}};function qd(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function Bd(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function jd(n,t){t&&(n["X-Firebase-GMPID"]=t)}function $d(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function zd(n,t,r,i,a,c,f=!0,_=!1){let I=Ld(n.urlParams),A=n.url+I,v=Object.assign({},n.headers);return jd(v,t),qd(v,r),Bd(v,c),$d(v,i),new qs(A,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,f,_)}function Gd(n){if(n.length===0)return null;let t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function Kd(n){let t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}var fg=256*1024;var Bs=class n{constructor(t,r){this._service=t,r instanceof Dt?this._location=r:this._location=Dt.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new n(t,r)}get root(){let t=new Dt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Kd(this._location.path)}get storage(){return this._service}get parent(){let t=Gd(this._location.path);if(t===null)return null;let r=new Dt(this._location.bucket,t);return new n(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw Vd(t)}};function vu(n,t){let r=t?.[Sd];return r==null?null:Dt.makeFromBucketSpec(r,n)}function Wd(n,t,r,i={}){n.host=`${t}:${r}`;let a=En(t);a&&(An(`https://${n.host}/b`),Sn("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";let{mockUserToken:c}=i;c&&(n._overrideAuthToken=typeof c=="string"?c:bn(c,n.app.options.projectId))}var js=class{constructor(t,r,i,a,c,f=!1){this.app=t,this._authProvider=r,this._appCheckProvider=i,this._url=a,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=bu,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Rd,this._maxUploadRetryTime=Pd,this._requests=new Set,a!=null?this._bucket=Dt.makeFromBucketSpec(a,this._host):this._bucket=vu(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Dt.makeFromBucketSpec(this._url,t):this._bucket=vu(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Iu("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Iu("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let r=yield t.getToken();if(r!==null)return r.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Bs(this,t)}_makeRequest(t,r,i,a,c=!0){if(this._deleted)return new Ls(Su());{let f=zd(t,this._appId,i,a,r,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}makeRequestWithTokens(t,r){return b(this,null,function*(){let[i,a]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,i,a).getPromise()})}},Eu="@firebase/storage",Au="0.13.14";var Ru="storage";function Pu(n=bt(),t){n=At(n);let i=at(n,Ru).getImmediate({identifier:t}),a=vn("storage");return a&&Cu(i,...a),i}function Cu(n,t,r,i={}){Wd(n,t,r,i)}function Qd(n,{instanceIdentifier:t}){let r=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new js(r,i,a,t,Nn)}function Hd(){st(new rt(Ru,Qd,"PUBLIC").setMultipleInstances(!0)),M(Eu,Au,""),M(Eu,Au,"esm2017")}Hd();var rn=class{constructor(t){return t}},Du="storage",$s=class{constructor(){return qt(Du)}};var zs=new Ft("angularfire2.storage-instances");function Xd(n,t){let r=Ut(Du,n,t);return r&&new rn(r)}function Yd(n){return(t,r)=>{let i=t.runOutsideAngular(()=>n(r));return new rn(i)}}var Jd={provide:$s,deps:[[new H,zs]]},Zd={provide:rn,useFactory:Xd,deps:[[new H,zs],jt]};function ku(n,...t){return M("angularfire",gt.full,"gcs"),Mt([Zd,Jd,{provide:zs,useFactory:Yd(n),multi:!0,deps:[dt,ht,Bt,$t,[new H,Vn],[new H,xn],...t]}])}var Nu=ft(Pu,!0);var xu={providers:[Yi(),so({eventCoalescing:!0}),lo(To),ho(()=>fo({projectId:"gestion-de-vacunas",appId:"1:311316565409:web:ece0db2760ec2b8dcc0fe0",storageBucket:"gestion-de-vacunas.firebasestorage.app",apiKey:"AIzaSyD8YcpE50FCINN2rp-z9BLDQRAFzxq1cVM",authDomain:"gestion-de-vacunas.firebaseapp.com",messagingSenderId:"311316565409",measurementId:"G-1QBNLNXKVW"})),mo(()=>_o()),oa(()=>ra()),ia,rs,nu(()=>ru()),yu(()=>wu()),ku(()=>Nu())]};var Zn=class n{constructor(t,r){this.authService=t;this.router=r}title=Ji("Gesti\xF3n de vacunas");ngOnInit(){this.authService.user$.subscribe(t=>{t?(this.router.url==="/login"||this.router.url==="/")&&this.router.navigate(["/area-privada"]):this.router.url!=="/login"&&this.router.navigate(["/login"])})}static \u0275fac=function(r){return new(r||n)(Dr(ze),Dr(Ht))};static \u0275cmp=eo({type:n,selectors:[["app-root"]],decls:5,vars:1,consts:[[2,"font-weight","bold"],[1,"app-container"]],template:function(r,i){r&1&&(kr(0,"span",0),no(1),Nr(),kr(2,"div",1),xr(3,"router-outlet"),Nr(),xr(4,"br")),r&2&&(Zi(),ro(i.title()))},dependencies:[uo],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f0f2f5}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}"]})};io(Zn,xu).catch(n=>console.error(n));
