import{V as I,f as j}from"./chunk-CUOBZ6KD.js";import{a as O,b as E,c as F,d as T,e as k,f as N,m as V,n as D}from"./chunk-TAZRYRIE.js";import{$a as i,Ba as n,Ga as f,Jb as y,Ka as C,Lb as P,Oa as _,_a as l,ab as s,cb as h,d as w,da as m,db as c,ea as u,eb as p,ib as R,jb as d,kb as S,lb as b,nb as M,ob as x,pb as v}from"./chunk-Z25VUDG2.js";function q(a,r){if(a&1&&(i(0,"div"),d(1),s()),a&2){let t=p();R(t.tipoMensaje),n(),b(" ",t.mensaje," ")}}function A(a,r){if(a&1){let t=h();i(0,"p"),d(1," \xBFNo tienes cuenta? "),i(2,"a",9),c("click",function(g){m(t);let o=p();return u(o.toggleMode(g))}),d(3,"Reg\xEDstrate aqu\xED"),s()()}}function B(a,r){if(a&1){let t=h();i(0,"p"),d(1," \xBFYa tienes cuenta? "),i(2,"a",9),c("click",function(g){m(t);let o=p();return u(o.toggleMode(g))}),d(3,"Inicia sesi\xF3n aqu\xED"),s()()}}var W=class a{constructor(r,t){this.authService=r;this.router=t}email="";password="";mensaje="";tipoMensaje="";loading=!1;mostrarRegistro=!1;onSubmit(){return w(this,null,function*(){if(!this.email||!this.password){this.mostrarMensaje("Por favor, complete todos los campos.","error");return}this.loading=!0,this.mensaje="";try{this.mostrarRegistro?(yield this.authService.register({email:this.email,password:this.password}),this.mostrarMensaje("Usuario registrado con \xE9xito. Redirigiendo...","success"),setTimeout(()=>{this.router.navigate(["/area-privada"])},1500)):(yield this.authService.login({email:this.email,password:this.password}),this.mostrarMensaje("Inicio de sesi\xF3n exitoso. Redirigiendo...","success"),setTimeout(()=>{this.router.navigate(["/area-privada"])},1500))}catch(r){this.mostrarMensaje(r,"error")}finally{this.loading=!1}})}toggleMode(r){r.preventDefault(),this.mostrarRegistro=!this.mostrarRegistro,this.mensaje="",this.limpiarFormulario()}mostrarMensaje(r,t){this.mensaje=r,this.tipoMensaje=t}limpiarFormulario(){this.email="",this.password=""}static \u0275fac=function(t){return new(t||a)(f(I),f(j))};static \u0275cmp=C({type:a,selectors:[["app-registracion"]],decls:14,vars:10,consts:[[1,"auth-container"],[3,"ngSubmit"],[1,"form-group"],["type","email","placeholder","E-mail","name","email","required","",3,"ngModelChange","ngModel","disabled"],["type","password","placeholder","Contrase\xF1a","name","password","required","",3,"ngModelChange","ngModel","disabled"],["type","submit",3,"disabled"],[3,"class",4,"ngIf"],[1,"toggle-mode"],[4,"ngIf"],["href","#",3,"click"]],template:function(t,e){t&1&&(i(0,"div",0)(1,"h1"),d(2),s(),i(3,"form",1),c("ngSubmit",function(){return e.onSubmit()}),i(4,"div",2)(5,"input",3),v("ngModelChange",function(o){return x(e.email,o)||(e.email=o),o}),s()(),i(6,"div",2)(7,"input",4),v("ngModelChange",function(o){return x(e.password,o)||(e.password=o),o}),s()(),i(8,"button",5),d(9),s()(),_(10,q,2,3,"div",6),i(11,"div",7),_(12,A,4,0,"p",8)(13,B,4,0,"p",8),s()()),t&2&&(n(2),S(e.mostrarRegistro?"Registro de Usuario":"Iniciar Sesi\xF3n"),n(3),M("ngModel",e.email),l("disabled",e.loading),n(2),M("ngModel",e.password),l("disabled",e.loading),n(),l("disabled",e.loading||!e.email||!e.password),n(),b(" ",e.loading?"Procesando...":e.mostrarRegistro?"Registrarse":"Iniciar Sesi\xF3n"," "),n(),l("ngIf",e.mensaje),n(2),l("ngIf",!e.mostrarRegistro),n(),l("ngIf",e.mostrarRegistro))},dependencies:[P,y,D,N,O,E,F,V,k,T],styles:[".auth-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:30px;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 10px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}input[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:4px;font-size:16px;box-sizing:border-box}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#4caf50}button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;margin-bottom:20px}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#45a049}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.error[_ngcontent-%COMP%]{color:#f44336;padding:10px;background-color:#ffebee;border-radius:4px;margin:15px 0}.success[_ngcontent-%COMP%]{color:#4caf50;padding:10px;background-color:#e8f5e8;border-radius:4px;margin:15px 0}.toggle-mode[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.toggle-mode[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4caf50;text-decoration:none}.toggle-mode[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{W as Registracion};
