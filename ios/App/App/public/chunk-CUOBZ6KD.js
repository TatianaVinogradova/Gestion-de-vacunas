import{$ as et,A as In,Aa as qr,Ab as Kr,Bb as Ao,C as Ne,Ca as bt,Cb as Co,D as Xe,E as Tt,Ea as uo,Eb as St,F as xr,Fb as ko,G as Qe,Gb as Oo,Ha as lo,Hb as wn,I as _n,Ia as ho,J as ye,Ja as Gr,Ka as fo,L as Fr,M as Qs,Ma as po,Mb as Po,Nb as Do,O as eo,Ob as No,P as to,Pa as go,Q as j,Qa as tt,R as jr,Ra as $,S as O,T as R,Ta as mo,Ua as vo,V as w,Va as Io,Wa as _o,X as no,Y as A,Ya as yo,Z as S,Za as Eo,_ as g,a as p,aa as ro,b as N,ba as Me,bb as wo,c as De,ca as M,d as l,e as qs,f as Gs,g as ce,h as Pr,ha as io,i as Dr,ia as le,j as _e,ja as q,k as x,ka as $r,l as Ks,la as Hr,m as Ys,ma as Vr,n as ue,o as Nr,oa as yn,p as Mr,pa as so,q as Lr,qa as En,r as F,ra as Le,s as I,sa as oo,t as wt,ta as Br,tb as To,u as Js,v as Zs,va as ao,vb as xe,w as T,wa as zr,x as Ur,xa as co,xb as bo,y as W,ya as Ue,yb as So,z as Xs,za as Wr,zb as Ro}from"./chunk-Z25VUDG2.js";var bn=new A(""),Qr=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(S(bn),S($))};static \u0275prov=w({token:n,factory:n.\u0275fac})}return n})(),Rt=class{_doc;constructor(e){this._doc=e}manager},Yr="ng-app-id";function Mo(n){for(let e of n)e.remove()}function Lo(n,e){let t=e.createElement("style");return t.textContent=n,t}function Su(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Yr}="${e}"],link[${Yr}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Yr),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function Zr(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ei=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,Su(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Lo);r?.forEach(i=>this.addUsage(i,this.external,Zr))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Mo(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Mo(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Lo(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Zr(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(S(q),S(zr),S(Wr,8),S(Ue))};static \u0275prov=w({token:n,factory:n.\u0275fac})}return n})(),Jr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ti=/%COMP%/g;var xo="%COMP%",Ru=`_nghost-${xo}`,Au=`_ngcontent-${xo}`,Cu=!0,ku=new A("",{providedIn:"root",factory:()=>Cu});function Ou(n){return Au.replace(ti,n)}function Pu(n){return Ru.replace(ti,n)}function Fo(n,e){return e.map(t=>t.replace(ti,n))}var ni=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(t,r,i,s,o,a,c,u=null,d,f,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.animationDisabled=d,this.maxAnimationTimeout=f,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new At(t,o,c,this.platformIsServer,this.tracingService,this.registry=io(),this.maxAnimationTimeout)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Tn?i.applyToHost(t):i instanceof Ct&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case qr.Emulated:s=new Tn(c,u,r,this.appId,d,o,a,f,h,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case qr.ShadowDom:return new Xr(c,u,t,r,o,a,this.nonce,f,h,this.registry,this.maxAnimationTimeout);default:s=new Ct(c,u,r,d,o,a,f,h,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(S(Qr),S(ei),S(zr),S(ku),S(q),S(Ue),S($),S(Wr),S(yo),S(Eo),S(go,8))};static \u0275prov=w({token:n,factory:n.\u0275fac})}return n})(),At=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s,o,a){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s,this.registry=o,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Jr[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Uo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Uo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){let{elements:r}=this.registry;if(r){r.animate(t,()=>t.remove(),this.maxAnimationTimeout);return}t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new R(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Jr[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Jr[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(bt.DashCase|bt.Important)?e.style.setProperty(t,r,i&bt.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&bt.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=St().getGlobalEventTarget(this.doc,e),!e))throw new R(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Uo(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Xr=class extends At{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,a,c,u,d,f){super(e,s,o,c,u,d,f),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Fo(i.id,h);for(let y of h){let C=document.createElement("style");a&&C.setAttribute("nonce",a),C.textContent=y,this.shadowRoot.appendChild(C)}let m=i.getExternalStyles?.();if(m)for(let y of m){let C=Zr(y,s);a&&C.setAttribute("nonce",a),this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ct=class extends At{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,t,r,i,s,o,a,c,u,d,f,h){super(e,s,o,a,c,u,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this._animationDisabled=d;let m=r.styles;this.styles=h?Fo(h,m):m,this.styleUrls=r.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Tn=class extends Ct{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c,u,d,f,h){let m=i+"-"+r.id;super(e,t,r,s,o,a,c,u,d,f,h,m),this.contentAttr=Ou(m),this.hostAttr=Pu(m)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Sn=class n extends Oo{supportsDOMEvents=!0;static makeCurrent(){ko(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Mu();return t==null?null:Lu(t)}resetBaseElement(){Ot=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Po(document.cookie,e)}},Ot=null;function Mu(){return Ot=Ot||document.head.querySelector("base"),Ot?Ot.getAttribute("href"):null}function Lu(n){return new URL(n,document.baseURI).pathname}var Uu=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=w({token:n,factory:n.\u0275fac})}return n})(),$o=(()=>{class n extends Rt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(S(q))};static \u0275prov=w({token:n,factory:n.\u0275fac})}return n})(),jo=["alt","control","meta","shift"],xu={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Ho=(()=>{class n extends Rt{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>St().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),jo.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=xu[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),jo.forEach(o=>{if(o!==i){let a=Fu[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(S(q))};static \u0275prov=w({token:n,factory:n.\u0275fac})}return n})();function ju(n,e){let t=p({rootComponent:n},$u(e));return Co(t)}function $u(n){return{appProviders:[...Wu,...n?.providers??[]],platformProviders:zu}}function Hu(){Sn.makeCurrent()}function Vu(){return new Hr}function Bu(){return ao(document),document}var zu=[{provide:Ue,useValue:No},{provide:co,useValue:Hu,multi:!0},{provide:q,useFactory:Bu}];var Wu=[{provide:ro,useValue:"root"},{provide:Hr,useFactory:Vu},{provide:bn,useClass:$o,multi:!0,deps:[q]},{provide:bn,useClass:Ho,multi:!0,deps:[q]},ni,ei,Qr,{provide:uo,useExisting:ni},{provide:Do,useClass:Uu},[]];var Vo=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(S(q))};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _="primary",Wt=Symbol("RouteTitle"),ai=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function $e(n){return new ai(n)}function Jo(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Gu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ee(n[t],e[t]))return!1;return!0}function ee(n,e){let t=n?ci(n):void 0,r=e?ci(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Zo(n[i],e[i]))return!1;return!0}function ci(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Zo(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function Xo(n){return n.length>0?n[n.length-1]:null}function fe(n){return Js(n)?n:vo(n)?F(Promise.resolve(n)):I(n)}var Ku={exact:ea,subset:ta},Qo={exact:Yu,subset:Ju,ignored:()=>!0};function Bo(n,e,t){return Ku[t.paths](n.root,e.root,t.matrixParams)&&Qo[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Yu(n,e){return ee(n,e)}function ea(n,e,t){if(!Fe(n.segments,e.segments)||!Cn(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!ea(n.children[r],e.children[r],t))return!1;return!0}function Ju(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Zo(n[t],e[t]))}function ta(n,e,t){return na(n,e,e.segments,t)}function na(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Fe(i,t)||e.hasChildren()||!Cn(i,t,r))}else if(n.segments.length===t.length){if(!Fe(n.segments,t)||!Cn(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!ta(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Fe(n.segments,i)||!Cn(n.segments,i,r)||!n.children[_]?!1:na(n.children[_],e,s,r)}}function Cn(n,e,t){return e.every((r,i)=>Qo[t](n[i].parameters,r.parameters))}var ne=class{root;queryParams;fragment;_queryParamMap;constructor(e=new E([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$e(this.queryParams),this._queryParamMap}toString(){return Qu.serialize(this)}},E=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kn(this)}},Ee=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=$e(this.parameters),this._parameterMap}toString(){return ia(this)}};function Zu(n,e){return Fe(n,e)&&n.every((t,r)=>ee(t.parameters,e[r].parameters))}function Fe(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Xu(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===_&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==_&&(t=t.concat(e(i,r)))}),t}var qt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=w({token:n,factory:()=>new He,providedIn:"root"})}return n})(),He=class{parse(e){let t=new li(e);return new ne(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Pt(e.root,!0)}`,r=nl(e.queryParams),i=typeof e.fragment=="string"?`#${el(e.fragment)}`:"";return`${t}${r}${i}`}},Qu=new He;function kn(n){return n.segments.map(e=>ia(e)).join("/")}function Pt(n,e){if(!n.hasChildren())return kn(n);if(e){let t=n.children[_]?Pt(n.children[_],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==_&&r.push(`${i}:${Pt(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Xu(n,(r,i)=>i===_?[Pt(n.children[_],!1)]:[`${i}:${Pt(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[_]!=null?`${kn(n)}/${t[0]}`:`${kn(n)}/(${t.join("//")})`}}function ra(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rn(n){return ra(n).replace(/%3B/gi,";")}function el(n){return encodeURI(n)}function ui(n){return ra(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function On(n){return decodeURIComponent(n)}function zo(n){return On(n.replace(/\+/g,"%20"))}function ia(n){return`${ui(n.path)}${tl(n.parameters)}`}function tl(n){return Object.entries(n).map(([e,t])=>`;${ui(e)}=${ui(t)}`).join("")}function nl(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Rn(t)}=${Rn(i)}`).join("&"):`${Rn(t)}=${Rn(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var rl=/^[^\/()?;#]+/;function ri(n){let e=n.match(rl);return e?e[0]:""}var il=/^[^\/()?;=#]+/;function sl(n){let e=n.match(il);return e?e[0]:""}var ol=/^[^=?&#]+/;function al(n){let e=n.match(ol);return e?e[0]:""}var cl=/^[^&#]+/;function ul(n){let e=n.match(cl);return e?e[0]:""}var li=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new E([],{}):new E([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[_]=new E(e,t)),r}parseSegment(){let e=ri(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(e),new Ee(On(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=sl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ri(this.remaining);i&&(r=i,this.capture(r))}e[On(t)]=On(r)}parseQueryParam(e){let t=al(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=ul(this.remaining);o&&(r=o,this.capture(r))}let i=zo(t),s=zo(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ri(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=_);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[_]:new E([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new R(4011,!1)}};function sa(n){return n.segments.length>0?new E([],{[_]:n}):n}function oa(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=oa(i);if(r===_&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new E(n.segments,e);return ll(t)}function ll(n){if(n.numberOfChildren===1&&n.children[_]){let e=n.children[_];return new E(n.segments.concat(e.segments),e.children)}return n}function ot(n){return n instanceof ne}function aa(n,e,t=null,r=null){let i=ca(n);return ua(i,e,t,r)}function ca(n){let e;function t(s){let o={};for(let c of s.children){let u=t(c);o[c.outlet]=u}let a=new E(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=sa(r);return e??i}function ua(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return ii(i,i,i,t,r);let s=dl(e);if(s.toRoot())return ii(i,i,new E([],{}),t,r);let o=hl(s,i,n),a=o.processChildren?Nt(o.segmentGroup,o.index,s.commands):da(o.segmentGroup,o.index,s.commands);return ii(i,o.segmentGroup,a,t,r)}function Pn(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ut(n){return typeof n=="object"&&n!=null&&n.outlets}function ii(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;n===e?o=t:o=la(n,e,t);let a=sa(oa(o));return new ne(a,s,i)}function la(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=la(s,e,t)}),new E(n.segments,r)}var Dn=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pn(r[0]))throw new R(4003,!1);let i=r.find(Ut);if(i&&i!==Xo(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dl(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Dn(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Dn(t,e,r)}var it=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function hl(n,e,t){if(n.isAbsolute)return new it(e,!0,0);if(!t)return new it(e,!1,NaN);if(t.parent===null)return new it(t,!0,0);let r=Pn(n.commands[0])?0:1,i=t.segments.length-1+r;return fl(t,i,n.numberOfDoubleDots)}function fl(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new it(r,!1,i-s)}function pl(n){return Ut(n[0])?n[0].outlets:{[_]:n}}function da(n,e,t){if(n??=new E([],{}),n.segments.length===0&&n.hasChildren())return Nt(n,e,t);let r=gl(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new E(n.segments.slice(0,r.pathIndex),{});return s.children[_]=new E(n.segments.slice(r.pathIndex),n.children),Nt(s,0,i)}else return r.match&&i.length===0?new E(n.segments,{}):r.match&&!n.hasChildren()?di(n,e,t):r.match?Nt(n,0,i):di(n,e,t)}function Nt(n,e,t){if(t.length===0)return new E(n.segments,{});{let r=pl(t),i={};if(Object.keys(r).some(s=>s!==_)&&n.children[_]&&n.numberOfChildren===1&&n.children[_].segments.length===0){let s=Nt(n.children[_],e,t);return new E(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=da(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new E(n.segments,i)}}function gl(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Ut(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!qo(c,u,o))return s;r+=2}else{if(!qo(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function di(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Ut(s)){let c=ml(s.outlets);return new E(r,c)}if(i===0&&Pn(t[0])){let c=n.segments[e];r.push(new Ee(c.path,Wo(t[0]))),i++;continue}let o=Ut(s)?s.outlets[_]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Pn(a)?(r.push(new Ee(o,Wo(a))),i+=2):(r.push(new Ee(o,{})),i++)}return new E(r,{})}function ml(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=di(new E([],{}),0,r))}),e}function Wo(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function qo(n,e,t){return n==t.path&&ee(e,t.parameters)}var Mt="imperative",k=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(k||{}),V=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ve=class extends V{type=k.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},de=class extends V{urlAfterRedirects;type=k.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},L=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(L||{}),xt=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(xt||{}),te=class extends V{reason;code;type=k.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},he=class extends V{reason;code;type=k.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},at=class extends V{error;target;type=k.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ft=class extends V{urlAfterRedirects;state;type=k.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nn=class extends V{urlAfterRedirects;state;type=k.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mn=class extends V{urlAfterRedirects;state;shouldActivate;type=k.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ln=class extends V{urlAfterRedirects;state;type=k.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Un=class extends V{urlAfterRedirects;state;type=k.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xn=class{route;type=k.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fn=class{route;type=k.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jn=class{snapshot;type=k.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$n=class{snapshot;type=k.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hn=class{snapshot;type=k.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vn=class{snapshot;type=k.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var jt=class{},ct=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function vl(n){return!(n instanceof jt)&&!(n instanceof ct)}function Il(n,e){return n.providers&&!n._injector&&(n._injector=Gr(n.providers,e,`Route: ${n.path}`)),n._injector??e}function K(n){return n.outlet||_}function _l(n,e){let t=n.filter(r=>K(r)===e);return t.push(...n.filter(r=>K(r)!==e)),t}function dt(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Bn=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return dt(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ht(this.rootInjector)}},ht=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Bn(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(S(Me))};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zn=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=hi(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=hi(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=fi(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fi(e,this._root).map(t=>t.value)}};function hi(n,e){if(n===e.value)return e;for(let t of e.children){let r=hi(n,t);if(r)return r}return null}function fi(n,e){if(n===e.value)return[e];for(let t of e.children){let r=fi(n,t);if(r.length)return r.unshift(e),r}return[]}var H=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function rt(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var $t=class extends zn{snapshot;constructor(e,t){super(e),this.snapshot=t,Ei(this,e)}toString(){return this.snapshot.toString()}};function ha(n){let e=yl(n),t=new x([new Ee("",{})]),r=new x({}),i=new x({}),s=new x({}),o=new x(""),a=new we(t,r,s,o,i,_,n,e.root);return a.snapshot=e.root,new $t(new H(a,[]),e)}function yl(n){let e={},t={},r={},s=new je([],e,r,"",t,_,n,null,{});return new Ht("",new H(s,[]))}var we=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(T(u=>u[Wt]))??I(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(T(e=>$e(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(T(e=>$e(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wn(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:p(p({},e.params),n.params),data:p(p({},e.data),n.data),resolve:p(p(p(p({},n.data),e.data),i?.data),n._resolvedData)}:r={params:p({},n.params),data:p({},n.data),resolve:p(p({},n.data),n._resolvedData??{})},i&&pa(i)&&(r.resolve[Wt]=i.title),r}var je=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Wt]}constructor(e,t,r,i,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$e(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$e(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ht=class extends zn{url;constructor(e,t){super(t),this.url=e,Ei(this,t)}toString(){return fa(this._root)}};function Ei(n,e){e.value._routerState=n,e.children.forEach(t=>Ei(n,t))}function fa(n){let e=n.children.length>0?` { ${n.children.map(fa).join(", ")} } `:"";return`${n.value}${e}`}function si(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ee(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ee(e.params,t.params)||n.paramsSubject.next(t.params),Gu(e.url,t.url)||n.urlSubject.next(t.url),ee(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function pi(n,e){let t=ee(n.params,e.params)&&Zu(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||pi(n.parent,e.parent))}function pa(n){return typeof n.title=="string"||n.title===null}var ga=new A(""),wi=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=_;activateEvents=new tt;deactivateEvents=new tt;attachEvents=new tt;detachEvents=new tt;routerOutletData=bo(void 0);parentContexts=g(ht);location=g(lo);changeDetector=g(Ao);inputBinder=g(Yn,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new gi(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=po({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[oo]})}return n})(),gi=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===we?this.route:e===ht?this.childContexts:e===ga?this.outletData:this.parent.get(e,t)}},Yn=new A("");var Ti=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=fo({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&wo(0,"router-outlet")},dependencies:[wi],encapsulation:2})}return n})();function bi(n){let e=n.children&&n.children.map(bi),t=e?N(p({},n),{children:e}):p({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_&&(t.component=Ti),t}function El(n,e,t){let r=Vt(n,e._root,t?t._root:void 0);return new $t(r,e)}function Vt(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=wl(n,e,t);return new H(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Vt(n,a)),o}}let r=Tl(e.value),i=e.children.map(s=>Vt(n,s));return new H(r,i)}}function wl(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Vt(n,r,i);return Vt(n,r)})}function Tl(n){return new we(new x(n.url),new x(n.params),new x(n.queryParams),new x(n.fragment),new x(n.data),n.outlet,n.component,n)}var ut=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},ma="ngNavigationCancelingError";function qn(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ot(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=va(!1,L.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function va(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[ma]=!0,t.cancellationCode=e,t}function bl(n){return Ia(n)&&ot(n.url)}function Ia(n){return!!n&&n[ma]}var Sl=(n,e,t,r)=>T(i=>(new mi(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),mi=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),si(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=rt(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=rt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=rt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=rt(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Vn(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $n(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(si(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),si(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Gn=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},st=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Rl(n,e,t){let r=n._root,i=e?e._root:null;return Dt(r,i,t,[r.value])}function Al(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ft(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!no(n)?n:e.get(n):r}function Dt(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=rt(e);return n.children.forEach(o=>{Cl(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Lt(a,t.getContext(o),i)),i}function Cl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=kl(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Gn(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Dt(n,e,a?a.children:null,r,i):Dt(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new st(a.outlet.component,o))}else o&&Lt(e,a,i),i.canActivateChecks.push(new Gn(r)),s.component?Dt(n,null,a?a.children:null,r,i):Dt(n,null,t,r,i);return i}function kl(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Fe(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fe(n.url,e.url)||!ee(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pi(n,e)||!ee(n.queryParams,e.queryParams);case"paramsChange":default:return!pi(n,e)}}function Lt(n,e,t){let r=rt(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Lt(o,e.children.getContext(s),t):Lt(o,null,t):Lt(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new st(e.outlet.component,i)):t.canDeactivateChecks.push(new st(null,i)):t.canDeactivateChecks.push(new st(null,i))}function Gt(n){return typeof n=="function"}function Ol(n){return typeof n=="boolean"}function Pl(n){return n&&Gt(n.canLoad)}function Dl(n){return n&&Gt(n.canActivate)}function Nl(n){return n&&Gt(n.canActivateChild)}function Ml(n){return n&&Gt(n.canDeactivate)}function Ll(n){return n&&Gt(n.canMatch)}function _a(n){return n instanceof Zs||n?.name==="EmptyError"}var An=Symbol("INITIAL_VALUE");function lt(){return j(n=>Ur(n.map(e=>e.pipe(Qe(1),to(An)))).pipe(T(e=>{for(let t of e)if(t!==!0){if(t===An)return An;if(t===!1||Ul(t))return t}return!0}),Ne(e=>e!==An),Qe(1)))}function Ul(n){return ot(n)||n instanceof ut}function xl(n,e){return W(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?I(N(p({},t),{guardsResult:!0})):Fl(o,r,i,n).pipe(W(a=>a&&Ol(a)?jl(r,s,n,e):I(a)),T(a=>N(p({},t),{guardsResult:a})))})}function Fl(n,e,t,r){return F(n).pipe(W(i=>zl(i.component,i.route,t,e,r)),ye(i=>i!==!0,!0))}function jl(n,e,t,r){return F(e).pipe(Tt(i=>Xs(Hl(i.route.parent,r),$l(i.route,r),Bl(n,i.path,t),Vl(n,i.route,t))),ye(i=>i!==!0,!0))}function $l(n,e){return n!==null&&e&&e(new Hn(n)),I(!0)}function Hl(n,e){return n!==null&&e&&e(new jn(n)),I(!0)}function Vl(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return I(!0);let i=r.map(s=>In(()=>{let o=dt(e)??t,a=ft(s,o),c=Dl(a)?a.canActivate(e,n):M(o,()=>a(e,n));return fe(c).pipe(ye())}));return I(i).pipe(lt())}function Bl(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Al(o)).filter(o=>o!==null).map(o=>In(()=>{let a=o.guards.map(c=>{let u=dt(o.node)??t,d=ft(c,u),f=Nl(d)?d.canActivateChild(r,n):M(u,()=>d(r,n));return fe(f).pipe(ye())});return I(a).pipe(lt())}));return I(s).pipe(lt())}function zl(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return I(!0);let o=s.map(a=>{let c=dt(e)??i,u=ft(a,c),d=Ml(u)?u.canDeactivate(n,e,t,r):M(c,()=>u(n,e,t,r));return fe(d).pipe(ye())});return I(o).pipe(lt())}function Wl(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return I(!0);let s=i.map(o=>{let a=ft(o,n),c=Pl(a)?a.canLoad(e,t):M(n,()=>a(e,t));return fe(c)});return I(s).pipe(lt(),ya(r))}function ya(n){return Gs(O(e=>{if(typeof e!="boolean")throw qn(n,e)}),T(e=>e===!0))}function ql(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return I(!0);let s=i.map(o=>{let a=ft(o,n),c=Ll(a)?a.canMatch(e,t):M(n,()=>a(e,t));return fe(c)});return I(s).pipe(lt(),ya(r))}var Bt=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},zt=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function nt(n){return wt(new Bt(n))}function Gl(n){return wt(new R(4e3,!1))}function Kl(n){return wt(va(!1,L.GuardRejected))}var vi=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return I(r);if(i.numberOfChildren>1||!i.children[_])return Gl(`${e.redirectTo}`);i=i.children[_]}}applyRedirectCommands(e,t,r,i,s){return Yl(t,i,s).pipe(T(o=>{if(o instanceof ne)throw new zt(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new zt(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new ne(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new E(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function Yl(n,e,t){if(typeof n=="string")return I(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:u,data:d,title:f}=e;return fe(M(t,()=>r({params:u,data:d,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:f})))}var Ii={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jl(n,e,t,r,i){let s=Ea(n,e,t);return s.matched?(r=Il(e,r),ql(r,e,t,i).pipe(T(o=>o===!0?s:p({},Ii)))):I(s)}function Ea(n,e,t){if(e.path==="**")return Zl(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?p({},Ii):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Jo)(t,n,e);if(!i)return p({},Ii);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?p(p({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Zl(n){return{matched:!0,parameters:n.length>0?Xo(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Go(n,e,t,r){return t.length>0&&ed(n,t,r)?{segmentGroup:new E(e,Ql(r,new E(t,n.children))),slicedSegments:[]}:t.length===0&&td(n,t,r)?{segmentGroup:new E(n.segments,Xl(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new E(n.segments,n.children),slicedSegments:t}}function Xl(n,e,t,r){let i={};for(let s of t)if(Jn(n,e,s)&&!r[K(s)]){let o=new E([],{});i[K(s)]=o}return p(p({},r),i)}function Ql(n,e){let t={};t[_]=e;for(let r of n)if(r.path===""&&K(r)!==_){let i=new E([],{});t[K(r)]=i}return t}function ed(n,e,t){return t.some(r=>Jn(n,e,r)&&K(r)!==_)}function td(n,e,t){return t.some(r=>Jn(n,e,r))}function Jn(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function nd(n,e,t){return e.length===0&&!n.children[t]}var _i=class{};function rd(n,e,t,r,i,s,o="emptyOnly"){return new yi(n,e,t,r,i,o,s).recognize()}var id=31,yi=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new vi(this.urlSerializer,this.urlTree)}noMatchError(e){return new R(4002,`'${e.segmentGroup}'`)}recognize(){let e=Go(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(T(({children:t,rootSnapshot:r})=>{let i=new H(r,t),s=new Ht("",i),o=aa(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new je([],Object.freeze({}),Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),_,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,_,t).pipe(T(r=>({children:r,rootSnapshot:t})),Xe(r=>{if(r instanceof zt)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bt?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(T(o=>o instanceof H?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return F(s).pipe(Tt(o=>{let a=r.children[o],c=_l(t,o);return this.processSegmentGroup(e,c,a,o,i)}),eo((o,a)=>(o.push(...a),o)),xr(null),Qs(),W(o=>{if(o===null)return nt(r);let a=wa(o);return sd(a),I(a)}))}processSegment(e,t,r,i,s,o,a){return F(t).pipe(Tt(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a).pipe(Xe(u=>{if(u instanceof Bt)return I(null);throw u}))),ye(c=>!!c),Xe(c=>{if(_a(c))return nd(r,i,s)?I(new _i):nt(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,c){return K(r)!==o&&(o===_||!Jn(i,s,r))?nt(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c):nt(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:h}=Ea(t,i,s);if(!c)return nt(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>id&&(this.allowRedirects=!1));let m=new je(s,u,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,Ko(i),K(i),i.component??i._loadedComponent??null,i,Yo(i)),y=Wn(m,a,this.paramsInheritanceStrategy);return m.params=Object.freeze(y.params),m.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e).pipe(j(U=>this.applyRedirects.lineralizeSegments(i,U)),W(U=>this.processSegment(e,r,t,U.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=Jl(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(j(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(j(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:h,remainingSegments:m}=c,y=new je(h,f,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,Ko(r),K(r),r.component??r._loadedComponent??null,r,Yo(r)),C=Wn(y,o,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let{segmentGroup:U,slicedSegments:oe}=Go(t,h,m,u);if(oe.length===0&&U.hasChildren())return this.processChildren(d,u,U,y).pipe(T(z=>new H(y,z)));if(u.length===0&&oe.length===0)return I(new H(y,[]));let ae=K(r)===s;return this.processSegment(d,u,U,oe,ae?_:s,!0,y).pipe(T(z=>new H(y,z instanceof H?[z]:[])))}))):nt(t)))}getChildConfig(e,t,r){return t.children?I({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?I({routes:t._loadedRoutes,injector:t._loadedInjector}):Wl(e,t,r,this.urlSerializer).pipe(W(i=>i?this.configLoader.loadChildren(e,t).pipe(O(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Kl(t))):I({routes:[],injector:e})}};function sd(n){n.sort((e,t)=>e.value.outlet===_?-1:t.value.outlet===_?1:e.value.outlet.localeCompare(t.value.outlet))}function od(n){let e=n.value.routeConfig;return e&&e.path===""}function wa(n){let e=[],t=new Set;for(let r of n){if(!od(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=wa(r.children);e.push(new H(r.value,i))}return e.filter(r=>!t.has(r))}function Ko(n){return n.data||{}}function Yo(n){return n.resolve||{}}function ad(n,e,t,r,i,s){return W(o=>rd(n,e,t,r,o.extractedUrl,i,s).pipe(T(({state:a,tree:c})=>N(p({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function cd(n,e){return W(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return I(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Ta(c))o.add(u);let a=0;return F(o).pipe(Tt(c=>s.has(c)?ud(c,r,n,e):(c.data=Wn(c,c.parent,n).resolve,I(void 0))),O(()=>a++),Fr(1),W(c=>a===o.size?I(t):ue))})}function Ta(n){let e=n.children.map(t=>Ta(t)).flat();return[n,...e]}function ud(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!pa(i)&&(s[Wt]=i.title),In(()=>(n.data=Wn(n,n.parent,t).resolve,ld(s,n,e,r).pipe(T(o=>(n._resolvedData=o,n.data=p(p({},n.data),o),null)))))}function ld(n,e,t,r){let i=ci(n);if(i.length===0)return I({});let s={};return F(i).pipe(W(o=>dd(n[o],e,t,r).pipe(ye(),O(a=>{if(a instanceof ut)throw qn(new He,a);s[o]=a}))),Fr(1),T(()=>s),Xe(o=>_a(o)?ue:wt(o)))}function dd(n,e,t,r){let i=dt(e)??r,s=ft(n,i),o=s.resolve?s.resolve(e,t):M(i,()=>s(e,t));return fe(o)}function oi(n){return j(e=>{let t=n(e);return t?F(t).pipe(T(()=>e)):I(e)})}var Si=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===_);return r}getResolvedTitleForRoute(t){return t.data[Wt]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=w({token:n,factory:()=>g(ba),providedIn:"root"})}return n})(),ba=(()=>{class n extends Si{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(S(Vo))};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kt=new A("",{providedIn:"root",factory:()=>({})}),Yt=new A(""),Sa=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(To);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return I(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=fe(M(t,()=>r.loadComponent())).pipe(T(Aa),j(Ca),O(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),_n(()=>{this.componentLoaders.delete(r)})),s=new Dr(i,()=>new _e).pipe(Pr());return this.componentLoaders.set(r,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return I({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Ra(r,this.compiler,t,this.onLoadEndListener).pipe(_n(()=>{this.childrenLoaders.delete(r)})),o=new Dr(s,()=>new _e).pipe(Pr());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ra(n,e,t,r){return fe(M(t,()=>n.loadChildren())).pipe(T(Aa),j(Ca),W(i=>i instanceof ho||Array.isArray(i)?I(i):F(e.compileModuleAsync(i))),T(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(Yt,[],{optional:!0,self:!0}).flat()),{routes:o.map(bi),injector:s}}))}function hd(n){return n&&typeof n=="object"&&"default"in n}function Aa(n){return hd(n)?n.default:n}function Ca(n){return I(n)}var Zn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=w({token:n,factory:()=>g(fd),providedIn:"root"})}return n})(),fd=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ka=new A("");var Oa=new A(""),Pa=(()=>{class n{currentNavigation=yn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new _e;transitionAbortWithErrorSubject=new _e;configLoader=g(Sa);environmentInjector=g(Me);destroyRef=g($r);urlSerializer=g(qt);rootContexts=g(ht);location=g(wn);inputBindingEnabled=g(Yn,{optional:!0})!==null;titleStrategy=g(Si);options=g(Kt,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(Zn);createViewTransition=g(ka,{optional:!0});navigationErrorHandler=g(Oa,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>I(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new xn(i)),r=i=>this.events.next(new Fn(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;xe(()=>{this.transitions?.next(N(p({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new x(null),this.transitions.pipe(Ne(r=>r!==null),j(r=>{let i=!1;return I(r).pipe(j(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",L.SupersededByNewNavigation),ue;this.currentTransition=r,this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?N(p({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>s.abortController.abort()});let o=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!o&&a!=="reload")return this.events.next(new he(s.id,this.urlSerializer.serialize(s.rawUrl),"",xt.IgnoredSameUrlNavigation)),s.resolve(!1),ue;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return I(s).pipe(j(c=>(this.events.next(new Ve(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?ue:Promise.resolve(c))),ad(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),O(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let u=new Ft(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(o&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:f,extras:h}=s,m=new Ve(c,this.urlSerializer.serialize(u),d,f);this.events.next(m);let y=ha(this.rootComponentType).snapshot;return this.currentTransition=r=N(p({},s),{targetSnapshot:y,urlAfterRedirects:u,extras:N(p({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(C=>(C.finalUrl=u,C)),I(r)}else return this.events.next(new he(s.id,this.urlSerializer.serialize(s.extractedUrl),"",xt.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ue}),O(s=>{let o=new Nn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(o)}),T(s=>(this.currentTransition=r=N(p({},s),{guards:Rl(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),xl(this.environmentInjector,s=>this.events.next(s)),O(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw qn(this.urlSerializer,s.guardsResult);let o=new Mn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(o)}),Ne(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",L.GuardRejected),!1)),oi(s=>{if(s.guards.canActivateChecks.length!==0)return I(s).pipe(O(o=>{let a=new Ln(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),j(o=>{let a=!1;return I(o).pipe(cd(this.paramsInheritanceStrategy,this.environmentInjector),O({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(o,"",L.NoDataFromResolver)}}))}),O(o=>{let a=new Un(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}))}),oi(s=>{let o=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=dt(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(O(d=>{a.component=d}),T(()=>{})))}for(let u of a.children)c.push(...o(u));return c};return Ur(o(s.targetSnapshot.root)).pipe(xr(null),Qe(1))}),oi(()=>this.afterPreactivation()),j(()=>{let{currentSnapshot:s,targetSnapshot:o}=r,a=this.createViewTransition?.(this.environmentInjector,s.root,o.root);return a?F(a).pipe(T(()=>r)):I(r)}),T(s=>{let o=El(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=N(p({},s),{targetRouterState:o}),this.currentNavigation.update(a=>(a.targetRouterState=o,a)),r}),O(()=>{this.events.next(new jt)}),Sl(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Qe(1),jr(new ce(s=>{let o=r.abortController.signal,a=()=>s.next();return o.addEventListener("abort",a),()=>o.removeEventListener("abort",a)}).pipe(Ne(()=>!i&&!r.targetRouterState),O(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",L.Aborted)}))),O({next:s=>{i=!0,this.lastSuccessfulNavigation=xe(this.currentNavigation),this.events.next(new de(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),jr(this.transitionAbortWithErrorSubject.pipe(O(s=>{throw s}))),_n(()=>{i||this.cancelNavigationTransition(r,"",L.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Xe(s=>{if(this.destroyed)return r.resolve(!1),ue;if(i=!0,Ia(s))this.events.next(new te(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),bl(s)?this.events.next(new ct(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let o=new at(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let a=M(this.environmentInjector,()=>this.navigationErrorHandler?.(o));if(a instanceof ut){let{message:c,cancellationCode:u}=qn(this.urlSerializer,a);this.events.next(new te(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new ct(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(o),s}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return ue}))}))}cancelNavigationTransition(t,r,i){let s=new te(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=xe(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pd(n){return n!==Mt}var Da=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=w({token:n,factory:()=>g(gd),providedIn:"root"})}return n})(),Kn=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},gd=(()=>{class n extends Kn{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Br(n)))(i||n)}})();static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Na=(()=>{class n{urlSerializer=g(qt);options=g(Kt,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(wn);urlHandlingStrategy=g(Zn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ne;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof ne?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=ha(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=w({token:n,factory:()=>g(md),providedIn:"root"})}return n})(),md=(()=>{class n extends Na{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ve?this.updateStateMemento():t instanceof he?this.commitTransition(r):t instanceof Ft?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof jt?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof te&&t.code!==L.SupersededByNewNavigation&&t.code!==L.Redirect?this.restoreHistory(r):t instanceof at?this.restoreHistory(r,!0):t instanceof de&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,c=p(p({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=p(p({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Br(n)))(i||n)}})();static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ri(n,e){n.events.pipe(Ne(t=>t instanceof de||t instanceof te||t instanceof at||t instanceof he),T(t=>t instanceof de||t instanceof he?0:(t instanceof te?t.code===L.Redirect||t.code===L.SupersededByNewNavigation:!1)?2:1),Ne(t=>t!==2),Qe(1)).subscribe(()=>{e()})}var vd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Id={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(mo);stateManager=g(Na);options=g(Kt,{optional:!0})||{};pendingTasks=g(so);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(Pa);urlSerializer=g(qt);location=g(wn);urlHandlingStrategy=g(Zn);injector=g(Me);_events=new _e;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(Da);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(Yt,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(Yn,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new qs;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=xe(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof te&&r.code!==L.Redirect&&r.code!==L.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof de)this.navigated=!0;else if(r instanceof ct){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=p({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||pd(i.source)},o);this.scheduleNavigation(a,Mt,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}vl(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=p({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s).catch(c=>{this.disposed||this.injector.get(Vr)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return xe(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(bi),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=p(p({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=i?i.snapshot:this.routerState.snapshot.root;f=ca(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return ua(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ot(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Mt,null,r)}navigate(t,r={skipLocationChange:!1}){return _d(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=p({},vd):r===!1?i=p({},Id):i=r,ot(t))return Bo(this.currentUrlTree,t,i);let s=this.parseUrl(t);return Bo(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((f,h)=>{a=f,c=h});let d=this.pendingTasks.add();return Ri(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _d(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new R(4008,!1)}var Ed=new A("");function wd(n,...e){return et([{provide:Yt,multi:!0,useValue:n},[],{provide:we,useFactory:Td,deps:[pt]},{provide:Io,multi:!0,useFactory:bd},e.map(t=>t.\u0275providers)])}function Td(n){return n.routerState.root}function bd(){let n=g(le);return e=>{let t=n.get(_o);if(e!==t.components[0])return;let r=n.get(pt),i=n.get(Sd);n.get(Rd)===1&&r.initialNavigation(),n.get(Ad,null,{optional:!0})?.setUpPreloading(),n.get(Ed,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Sd=new A("",{factory:()=>new _e}),Rd=new A("",{providedIn:"root",factory:()=>1});var Ad=new A("");var Ma=()=>{};var xa=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},kd=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Xn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(h=64)),r.push(t[d],t[f],t[h],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xa(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kd(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new Ci;let h=s<<2|a>>4;if(r.push(h),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ci=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Od=function(n){let e=xa(n);return Xn.encodeByteArray(e,!0)},Zt=function(n){return Od(n).replace(/\./g,"")},Qn=function(n){try{return Xn.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Fa(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Pd=()=>Fa().__FIREBASE_DEFAULTS__,Dd=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Nd=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Qn(n[1]);return e&&JSON.parse(e)},Oi=()=>{try{return Ma()||Pd()||Dd()||Nd()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Pi=n=>{var e,t;return(t=(e=Oi())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Zv=n=>{let e=Pi(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Di=()=>{var n;return(n=Oi())===null||n===void 0?void 0:n.config},Ni=n=>{var e;return(e=Oi())===null||e===void 0?void 0:e[`_${n}`]};var Be=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Xt(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function ja(n){return l(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function Xv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Zt(JSON.stringify(t)),Zt(JSON.stringify(o)),""].join(".")}var Jt={};function Md(){let n={prod:[],emulator:[]};for(let e of Object.keys(Jt))Jt[e]?n.emulator.push(e):n.prod.push(e);return n}function Ld(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var La=!1;function $a(n,e){if(typeof window>"u"||typeof document>"u"||!Xt(window.location.host)||Jt[n]===e||Jt[n]||La)return;Jt[n]=e;function t(h){return`__firebase__banner__${h}`}let r="__firebase__banner",s=Md().prod.length>0;function o(){let h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{La=!0,o()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){let h=Ld(r),m=t("text"),y=document.getElementById(m)||document.createElement("span"),C=t("learnmore"),U=document.getElementById(C)||document.createElement("a"),oe=t("preprendIcon"),ae=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let z=h.element;a(z),d(U,C);let vn=u();c(ae,oe),z.append(ae,y,U,vn),document.body.appendChild(z)}s?(y.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function D(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ha(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(D())}function Va(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ba(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function za(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wa(){let n=D();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function er(){try{return typeof indexedDB=="object"}catch{return!1}}function qa(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function Qv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var Ud="FirebaseError",Y=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Ud,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}},J=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?xd(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Y(i,a,r)}};function xd(n,e){return n.replace(Fd,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Fd=/\{\$([^}]+)}/g;function Ga(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Te(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(Ua(s)&&Ua(o)){if(!Te(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Ua(n){return n!==null&&typeof n=="object"}function Qt(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gt(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function mt(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Ka(n,e){let t=new ki(n,e);return t.subscribe.bind(t)}var ki=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");jd(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ai),i.error===void 0&&(i.error=Ai),i.complete===void 0&&(i.complete=Ai);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function jd(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ai(){}var $d=1e3,Hd=2,Vd=14400*1e3,Bd=.5;function zd(n,e=$d,t=Hd){let r=e*Math.pow(t,n),i=Math.round(Bd*r*(Math.random()-.5)*2);return Math.min(Vd,r+i)}function Z(n){return n&&n._delegate?n._delegate:n}var B=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ze="[DEFAULT]";var Mi=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Be;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qd(e))try{this.getOrInitializeService({instanceIdentifier:ze})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ze){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ze){return this.instances.has(e)}getOptions(e=ze){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wd(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ze){return this.component?this.component.multipleInstances?e:ze:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Wd(n){return n===ze?void 0:n}function qd(n){return n.instantiationMode==="EAGER"}var tr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Mi(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Gd=[],b=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(b||{}),Kd={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},Yd=b.INFO,Jd={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},Zd=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Jd[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},be=class{constructor(e){this.name=e,this._logLevel=Yd,this._logHandler=Zd,this._userLogHandler=null,Gd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in b))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kd[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...e),this._logHandler(this,b.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...e),this._logHandler(this,b.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,b.INFO,...e),this._logHandler(this,b.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,b.WARN,...e),this._logHandler(this,b.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...e),this._logHandler(this,b.ERROR,...e)}};var Xd=(n,e)=>e.some(t=>n instanceof t),Ya,Ja;function Qd(){return Ya||(Ya=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eh(){return Ja||(Ja=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Za=new WeakMap,Ui=new WeakMap,Xa=new WeakMap,Li=new WeakMap,Fi=new WeakMap;function th(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(X(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Za.set(t,n)}).catch(()=>{}),Fi.set(e,n),e}function nh(n){if(Ui.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Ui.set(n,e)}var xi={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ui.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Xa.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return X(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Qa(n){xi=n(xi)}function rh(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(nr(this),e,...t);return Xa.set(r,e.sort?e.sort():[e]),X(r)}:eh().includes(n)?function(...e){return n.apply(nr(this),e),X(Za.get(this))}:function(...e){return X(n.apply(nr(this),e))}}function ih(n){return typeof n=="function"?rh(n):(n instanceof IDBTransaction&&nh(n),Xd(n,Qd())?new Proxy(n,xi):n)}function X(n){if(n instanceof IDBRequest)return th(n);if(Li.has(n))return Li.get(n);let e=ih(n);return e!==n&&(Li.set(n,e),Fi.set(e,n)),e}var nr=n=>Fi.get(n);function tc(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=X(o);return r&&o.addEventListener("upgradeneeded",c=>{r(X(o.result),c.oldVersion,c.newVersion,X(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function cI(n,{blocked:e}={}){let t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),X(t).then(()=>{})}var sh=["get","getKey","getAll","getAllKeys","count"],oh=["put","add","delete","clear"],ji=new Map;function ec(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ji.get(e))return ji.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=oh.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sh.includes(t)))return;let s=function(o,...a){return l(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return ji.set(e,s),s}Qa(n=>N(p({},n),{get:(e,t,r)=>ec(e,t)||n.get(e,t,r),has:(e,t)=>!!ec(e,t)||n.has(e,t)}));var Hi=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ah(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function ah(n){let e=n.getComponent();return e?.type==="VERSION"}var Vi="@firebase/app",nc="0.13.2";var pe=new be("@firebase/app"),ch="@firebase/app-compat",uh="@firebase/analytics-compat",lh="@firebase/analytics",dh="@firebase/app-check-compat",hh="@firebase/app-check",fh="@firebase/auth",ph="@firebase/auth-compat",gh="@firebase/database",mh="@firebase/data-connect",vh="@firebase/database-compat",Ih="@firebase/functions",_h="@firebase/functions-compat",yh="@firebase/installations",Eh="@firebase/installations-compat",wh="@firebase/messaging",Th="@firebase/messaging-compat",bh="@firebase/performance",Sh="@firebase/performance-compat",Rh="@firebase/remote-config",Ah="@firebase/remote-config-compat",Ch="@firebase/storage",kh="@firebase/storage-compat",Oh="@firebase/firestore",Ph="@firebase/ai",Dh="@firebase/firestore-compat",Nh="firebase",Mh="11.10.0";var Bi="[DEFAULT]",Lh={[Vi]:"fire-core",[ch]:"fire-core-compat",[lh]:"fire-analytics",[uh]:"fire-analytics-compat",[hh]:"fire-app-check",[dh]:"fire-app-check-compat",[fh]:"fire-auth",[ph]:"fire-auth-compat",[gh]:"fire-rtdb",[mh]:"fire-data-connect",[vh]:"fire-rtdb-compat",[Ih]:"fire-fn",[_h]:"fire-fn-compat",[yh]:"fire-iid",[Eh]:"fire-iid-compat",[wh]:"fire-fcm",[Th]:"fire-fcm-compat",[bh]:"fire-perf",[Sh]:"fire-perf-compat",[Rh]:"fire-rc",[Ah]:"fire-rc-compat",[Ch]:"fire-gcs",[kh]:"fire-gcs-compat",[Oh]:"fire-fst",[Dh]:"fire-fst-compat",[Ph]:"fire-vertex","fire-js":"fire-js",[Nh]:"fire-js-all"};var en=new Map,Uh=new Map,zi=new Map;function rc(n,e){try{n.container.addComponent(e)}catch(t){pe.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ge(n){let e=n.name;if(zi.has(e))return pe.debug(`There were multiple attempts to register component ${e}.`),!1;zi.set(e,n);for(let t of en.values())rc(t,n);for(let t of Uh.values())rc(t,n);return!0}function rr(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function G(n){return n==null?!1:n.settings!==void 0}var xh={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Se=new J("app","Firebase",xh);var Wi=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new B("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Se.create("app-deleted",{appName:this._name})}};var vt=Mh;function Ki(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Bi,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Se.create("bad-app-name",{appName:String(i)});if(t||(t=Di()),!t)throw Se.create("no-options");let s=en.get(i);if(s){if(Te(t,s.options)&&Te(r,s.config))return s;throw Se.create("duplicate-app",{appName:i})}let o=new tr(i);for(let c of zi.values())o.addComponent(c);let a=new Wi(t,r,o);return en.set(i,a),a}function nn(n=Bi){let e=en.get(n);if(!e&&n===Bi&&Di())return Ki();if(!e)throw Se.create("no-app",{appName:n});return e}function ir(){return Array.from(en.values())}function P(n,e,t){var r;let i=(r=Lh[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pe.warn(a.join(" "));return}ge(new B(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Fh="firebase-heartbeat-database",jh=1,tn="firebase-heartbeat-store",$i=null;function ac(){return $i||($i=tc(Fh,jh,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(tn)}catch(t){console.warn(t)}}}}).catch(n=>{throw Se.create("idb-open",{originalErrorMessage:n.message})})),$i}function $h(n){return l(this,null,function*(){try{let t=(yield ac()).transaction(tn),r=yield t.objectStore(tn).get(cc(n));return yield t.done,r}catch(e){if(e instanceof Y)pe.warn(e.message);else{let t=Se.create("idb-get",{originalErrorMessage:e?.message});pe.warn(t.message)}}})}function ic(n,e){return l(this,null,function*(){try{let r=(yield ac()).transaction(tn,"readwrite");yield r.objectStore(tn).put(e,cc(n)),yield r.done}catch(t){if(t instanceof Y)pe.warn(t.message);else{let r=Se.create("idb-set",{originalErrorMessage:t?.message});pe.warn(r.message)}}})}function cc(n){return`${n.name}!${n.options.appId}`}var Hh=1024,Vh=30,qi=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Gi(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sc();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Vh){let o=zh(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pe.warn(r)}})}getHeartbeatsHeader(){return l(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=sc(),{heartbeatsToSend:r,unsentEntries:i}=Bh(this._heartbeatsCache.heartbeats),s=Zt(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return pe.warn(t),""}})}};function sc(){return new Date().toISOString().substring(0,10)}function Bh(n,e=Hh){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),oc(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),oc(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Gi=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return er()?qa().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield $h(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ic(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ic(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function oc(n){return Zt(JSON.stringify({version:2,heartbeats:n})).length}function zh(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Wh(n){ge(new B("platform-logger",e=>new Hi(e),"PRIVATE")),ge(new B("heartbeat",e=>new qi(e),"PRIVATE")),P(Vi,nc,n),P(Vi,nc,"esm2017"),P("fire-js","")}Wh("");var qh="firebase",Gh="11.10.0";P(qh,Gh,"app");function uc(n){n===void 0&&(n=g(le));let e=n.get(En);return t=>new ce(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var _t=new So("ANGULARFIRE2_VERSION");function Yi(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var or=(n,e)=>{let t=e?[e]:ir(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},It=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(It||{}),lc=Kr()&&typeof Zone<"u"?It.WARN:It.SILENT;var sr=class{zone;delegate;constructor(e,t=Ys){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},yt=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=g($);this.outsideAngular=t.runOutsideAngular(()=>new sr(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new sr(typeof Zone>"u"?void 0:Zone.current,Ks))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dc=!1;function Kh(n,e){!dc&&(lc>It.SILENT||Kr())&&(dc=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),lc>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Yh(n){let e=g($,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function We(n){let e=g($,{optional:!0});return e?e.run(()=>n()):n()}var Jh=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),M(t,()=>We(()=>n.apply(void 0,r)))),re=(n,e,t)=>(t||=e?It.WARN:It.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=g(yt),o=g(En),a=g(Me)}catch{return Kh(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=We(()=>o.add())),i[u]=Jh(i[u],r,a));let c=Yh(()=>n.apply(this,i));return e?c instanceof ce?c.pipe(Lr(s.outsideAngular),Mr(s.insideAngular),uc(a)):c instanceof Promise?We(()=>{let u=o.add();return new Promise((d,f)=>{c.then(h=>M(a,()=>We(()=>d(h))),h=>M(a,()=>We(()=>f(h)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:We(()=>c):c instanceof ce?c.pipe(Lr(s.outsideAngular),Mr(s.insideAngular)):We(()=>c)});var qe=class{constructor(e){return e}},rn=class{constructor(){return ir()}};function Zh(n){return n&&n.length===1?n[0]:new qe(nn())}var Ji=new A("angularfire2._apps"),Xh={provide:qe,useFactory:Zh,deps:[[new Le,Ji]]},Qh={provide:rn,deps:[[new Le,Ji]]};function ef(n){return(e,t)=>{let r=t.get(Ue);P("angularfire",_t.full,"core"),P("angularfire",_t.full,"app"),P("angular",Ro.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new qe(i)}}function YI(n,...e){return et([Xh,Qh,{provide:Ji,useFactory:ef(n),multi:!0,deps:[$,le,yt,...e]}])}var JI=re(Ki,!0);var tf=new Map,nf={activated:!1,tokenObservers:[]},rf={initialized:!1,enabled:!1};function Q(n){return tf.get(n)||Object.assign({},nf)}function gc(){return rf}var sf="https://content-firebaseappcheck.googleapis.com/v1";var of="exchangeDebugToken",hc={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},i_=1440*60*1e3;var Qi=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return l(this,null,function*(){this.stop();try{this.pending=new Be,this.pending.promise.catch(t=>{}),yield af(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Be,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function af(n){return new Promise(e=>{setTimeout(e,n)})}var cf={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Re=new J("appCheck","AppCheck",cf);function mc(n){if(!Q(n).activated)throw Re.create("use-before-activation",{appName:n.name})}function vc(r,i){return l(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let m=yield o.getHeartbeatsHeader();m&&(s["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:s},c;try{c=yield fetch(n,a)}catch(m){throw Re.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw Re.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(m){throw Re.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Re.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,h=Date.now();return{token:u.token,expireTimeMillis:h+f,issuedAtTimeMillis:h}})}function Ic(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${sf}/projects/${t}/apps/${r}:${of}?key=${i}`,body:{debug_token:e}}}var uf="firebase-app-check-database",lf=1,es="firebase-app-check-store";var ar=null;function df(){return ar||(ar=new Promise((n,e)=>{try{let t=indexedDB.open(uf,lf);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Re.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(es,{keyPath:"compositeKey"})}}}catch(t){e(Re.create("storage-open",{originalErrorMessage:t?.message}))}}),ar)}function hf(n,e){return ff(pf(n),e)}function ff(n,e){return l(this,null,function*(){let r=(yield df()).transaction(es,"readwrite"),s=r.objectStore(es).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(Re.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function pf(n){return`${n.options.appId}-${n.name}`}var sn=new be("@firebase/app-check");function Zi(n,e){return er()?hf(n,e).catch(t=>{sn.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function _c(){return gc().enabled}function yc(){return l(this,null,function*(){let n=gc();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var gf={error:"UNKNOWN_ERROR"};function mf(n){return Xn.encodeString(JSON.stringify(n),!1)}function ts(n,e=!1,t=!1){return l(this,null,function*(){let r=n.app;mc(r);let i=Q(r),s=i.token,o;if(s&&!on(s)&&(i.token=void 0,s=void 0),!s){let u=yield i.cachedTokenPromise;u&&(on(u)?s=u:yield Zi(r,void 0))}if(!e&&s&&on(s))return{token:s.token};let a=!1;if(_c())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=vc(Ic(r,yield yc()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield Zi(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?sn.warn(u.message):t&&sn.error(u),Xi(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield Q(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?sn.warn(u.message):t&&sn.error(u),o=u}let c;return s?o?on(s)?c={token:s.token,internalError:o}:c=Xi(o):(c={token:s.token},i.token=s,yield Zi(r,s)):c=Xi(o),a&&yf(r,c),c})}function vf(n){return l(this,null,function*(){let e=n.app;mc(e);let{provider:t}=Q(e);if(_c()){let r=yield yc(),{token:i}=yield vc(Ic(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function If(n,e,t,r){let{app:i}=n,s=Q(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&on(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),fc(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>fc(n))}function Ec(n,e){let t=Q(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function fc(n){let{app:e}=n,t=Q(e),r=t.tokenRefresher;r||(r=_f(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function _f(n){let{app:e}=n;return new Qi(()=>l(null,null,function*(){let t=Q(e),r;if(t.token?r=yield ts(n,!0):r=yield ts(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Q(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},hc.RETRIAL_MIN_WAIT,hc.RETRIAL_MAX_WAIT)}function yf(n,e){let t=Q(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function on(n){return n.expireTimeMillis-Date.now()>0}function Xi(n){return{token:mf(gf),error:n}}var ns=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Q(this.app);for(let t of e)Ec(this.app,t.next);return Promise.resolve()}};function Ef(n,e){return new ns(n,e)}function wf(n){return{getToken:e=>ts(n,e),getLimitedUseToken:()=>vf(n),addTokenListener:e=>If(n,"INTERNAL",e),removeTokenListener:e=>Ec(n.app,e)}}var Tf="@firebase/app-check",bf="0.10.1";var Sf="app-check",pc="app-check-internal";function Rf(){ge(new B(Sf,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Ef(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(pc).initialize()})),ge(new B(pc,n=>{let e=n.getProvider("app-check").getImmediate();return wf(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),P(Tf,bf)}Rf();var Af="app-check";var cr=class{constructor(){return or(Af)}};var Cf=["localhost","0.0.0.0","127.0.0.1"],v_=typeof window<"u"&&Cf.includes(window.location.hostname);function xc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Fc=xc,jc=new J("auth","Firebase",xc());var pr=new be("@firebase/auth");function kf(n,...e){pr.logLevel<=b.WARN&&pr.warn(`Auth (${vt}): ${n}`,...e)}function lr(n,...e){pr.logLevel<=b.ERROR&&pr.error(`Auth (${vt}): ${n}`,...e)}function se(n,...e){throw As(n,...e)}function Ge(n,...e){return As(n,...e)}function $c(n,e,t){let r=Object.assign(Object.assign({},Fc()),{[e]:t});return new J("auth","Firebase",r).create(e,{appName:n.name})}function Ie(n){return $c(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function As(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return jc.create(n,...e)}function v(n,e,...t){if(!n)throw As(e,...t)}function me(n){let e="INTERNAL ASSERTION FAILED: "+n;throw lr(e),new Error(e)}function ke(n,e){n||me(e)}function os(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Of(){return wc()==="http:"||wc()==="https:"}function wc(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Pf(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Of()||Ba()||"connection"in navigator)?navigator.onLine:!0}function Df(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ke=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ke(t>e,"Short delay should be less than long delay!"),this.isMobile=Ha()||za()}get(){return Pf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Cs(n,e){ke(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var gr=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Nf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Mf=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Lf=new Ke(3e4,6e4);function Oe(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Pe(s,o,a,c){return l(this,arguments,function*(n,e,t,r,i={}){return Hc(n,i,()=>l(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=Qt(Object.assign({key:n.config.apiKey},d)).slice(1),h=yield n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:h},u);return Va()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Xt(n.emulatorConfig.host)&&(m.credentials="include"),gr.fetch()(yield Vc(n,n.config.apiHost,t,f),m)}))})}function Hc(n,e,t){return l(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Nf),e);try{let i=new as(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ur(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ur(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ur(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw ur(n,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $c(n,d,u);se(n,d)}}catch(i){if(i instanceof Y)throw i;se(n,"network-request-failed",{message:String(i)})}})}function gn(s,o,a,c){return l(this,arguments,function*(n,e,t,r,i={}){let u=yield Pe(n,e,t,r,i);return"mfaPendingCredential"in u&&se(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function Vc(n,e,t,r){return l(this,null,function*(){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?Cs(n.config,i):`${n.config.apiScheme}://${i}`;return Mf.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function Uf(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var as=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ge(this.auth,"network-request-failed")),Lf.get())})}};function ur(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ge(n,e,r);return i.customData._tokenResponse=t,i}function Tc(n){return n!==void 0&&n.enterprise!==void 0}var cs=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Uf(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function xf(n,e){return l(this,null,function*(){return Pe(n,"GET","/v2/recaptchaConfig",Oe(n,e))})}function Ff(n,e){return l(this,null,function*(){return Pe(n,"POST","/v1/accounts:delete",e)})}function mr(n,e){return l(this,null,function*(){return Pe(n,"POST","/v1/accounts:lookup",e)})}function cn(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ks(n,e=!1){return l(this,null,function*(){let t=Z(n),r=yield t.getIdToken(e),i=Os(r);v(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:cn(rs(i.auth_time)),issuedAtTime:cn(rs(i.iat)),expirationTime:cn(rs(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function rs(n){return Number(n)*1e3}function Os(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return lr("JWT malformed, contained fewer than 3 sections"),null;try{let i=Qn(t);return i?JSON.parse(i):(lr("Failed to decode base64 JWT payload"),null)}catch(i){return lr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function bc(n){let e=Os(n);return v(e,"internal-error"),v(typeof e.exp<"u","internal-error"),v(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ln(n,e,t=!1){return l(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Y&&jf(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function jf({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var us=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),t)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var dn=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cn(this.lastLoginAt),this.creationTime=cn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function vr(n){return l(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ln(n,mr(t,{idToken:r}));v(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Bc(s.providerUserInfo):[],a=$f(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function Ps(n){return l(this,null,function*(){let e=Z(n);yield vr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function $f(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Bc(n){return n.map(e=>{var{providerId:t}=e,r=Nr(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Hf(n,e){return l(this,null,function*(){let t=yield Hc(n,{},()=>l(null,null,function*(){let r=Qt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield Vc(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Xt(n.emulatorConfig.host)&&(c.credentials="include"),gr.fetch()(o,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Vf(n,e){return l(this,null,function*(){return Pe(n,"POST","/v2/accounts:revokeToken",Oe(n,e))})}var un=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(typeof e.idToken<"u","internal-error"),v(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bc(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){v(e.length!==0,"internal-error");let t=bc(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return l(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(v(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Hf(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(v(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(v(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(v(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return me("not implemented")}};function Ae(n,e){v(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ce=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Nr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new us(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dn(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let t=yield ln(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return ks(this,e)}reload(){return Ps(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield vr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(G(this.auth.app))return Promise.reject(Ie(this.auth));let e=yield this.getIdToken();return yield ln(this,Ff(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,h=(i=t.email)!==null&&i!==void 0?i:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=t.photoURL)!==null&&o!==void 0?o:void 0,C=(a=t.tenantId)!==null&&a!==void 0?a:void 0,U=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,oe=(u=t.createdAt)!==null&&u!==void 0?u:void 0,ae=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:z,emailVerified:vn,isAnonymous:zs,providerData:kr,stsTokenManager:Ws}=t;v(z&&Ws,e,"internal-error");let Tu=un.fromJSON(this.name,Ws);v(typeof z=="string",e,"internal-error"),Ae(f,e.name),Ae(h,e.name),v(typeof vn=="boolean",e,"internal-error"),v(typeof zs=="boolean",e,"internal-error"),Ae(m,e.name),Ae(y,e.name),Ae(C,e.name),Ae(U,e.name),Ae(oe,e.name),Ae(ae,e.name);let Or=new n({uid:z,auth:e,email:h,emailVerified:vn,displayName:f,isAnonymous:zs,photoURL:y,phoneNumber:m,tenantId:C,stsTokenManager:Tu,createdAt:oe,lastLoginAt:ae});return kr&&Array.isArray(kr)&&(Or.providerData=kr.map(bu=>Object.assign({},bu))),U&&(Or._redirectEventId=U),Or}static _fromIdTokenResponse(e,t,r=!1){return l(this,null,function*(){let i=new un;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield vr(s),s})}static _fromGetAccountInfoResponse(e,t,r){return l(this,null,function*(){let i=t.users[0];v(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Bc(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new un;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new dn(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var Sc=new Map;function ve(n){ke(n instanceof Function,"Expected a class definition");let e=Sc.get(n);return e?(ke(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Sc.set(n,e),e)}var Bf=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(t,r){return l(this,null,function*(){this.storage[t]=r})}_get(t){return l(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return l(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),ls=Bf;function dr(n,e,t){return`firebase:${n}:${e}:${t}`}var Ir=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=dr(this.userKey,i.apiKey,s),this.fullPersistenceKey=dr("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield mr(this.auth,{idToken:e}).catch(()=>{});return t?Ce._fromGetAccountInfoResponse(this.auth,t,e):null}return Ce._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return l(this,null,function*(){if(!t.length)return new n(ve(ls),e,r);let i=(yield Promise.all(t.map(u=>l(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||ve(ls),o=dr(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(o);if(d){let f;if(typeof d=="string"){let h=yield mr(e,{idToken:d}).catch(()=>{});if(!h)break;f=yield Ce._fromGetAccountInfoResponse(e,h,d)}else f=Ce._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(u=>l(null,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,r))})}};function Rc(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gc(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zc(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yc(e))return"Blackberry";if(Jc(e))return"Webos";if(Wc(e))return"Safari";if((e.includes("chrome/")||qc(e))&&!e.includes("edge/"))return"Chrome";if(Kc(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function zc(n=D()){return/firefox\//i.test(n)}function Wc(n=D()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qc(n=D()){return/crios\//i.test(n)}function Gc(n=D()){return/iemobile/i.test(n)}function Kc(n=D()){return/android/i.test(n)}function Yc(n=D()){return/blackberry/i.test(n)}function Jc(n=D()){return/webos/i.test(n)}function Ds(n=D()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zf(n=D()){var e;return Ds(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Wf(){return Wa()&&document.documentMode===10}function Zc(n=D()){return Ds(n)||Kc(n)||Jc(n)||Yc(n)||/windows phone/i.test(n)||Gc(n)}function Xc(n,e=[]){let t;switch(n){case"Browser":t=Rc(D());break;case"Worker":t=`${Rc(D())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vt}/${r}`}var ds=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function qf(t){return l(this,arguments,function*(n,e={}){return Pe(n,"GET","/v2/passwordPolicy",Oe(n,e))})}var Gf=6,hs=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Gf,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var fs=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _r(this),this.idTokenSubscription=new _r(this),this.beforeStateQueue=new ds(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ve(t)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield Ir.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return l(this,null,function*(){try{let t=yield mr(this,{idToken:e}),r=yield Ce._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return l(this,null,function*(){var t;if(G(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield vr(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Df()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){if(G(this.app))return Promise.reject(Ie(this));let t=e?Z(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return l(this,null,function*(){if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return G(this.app)?Promise.reject(Ie(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return G(this.app)?Promise.reject(Ie(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(ve(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield qf(this),t=new hs(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new J("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Vf(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ve(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=yield Ir.create(this,[ve(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return l(this,null,function*(){var e;if(G(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&kf(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Je(n){return Z(n)}var _r=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ka(t=>this.observer=t)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Rr={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kf(n){Rr=n}function Qc(n){return Rr.loadJS(n)}function Yf(){return Rr.recaptchaEnterpriseScript}function Jf(){return Rr.gapiScript}function eu(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var ps=class{constructor(){this.enterprise=new gs}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},gs=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var Zf="recaptcha-enterprise",tu="NO_RECAPTCHA",ms=class{constructor(e){this.type=Zf,this.auth=Je(e)}verify(e="verify",t=!1){return l(this,null,function*(){function r(s){return l(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>l(null,null,function*(){xf(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new cs(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;Tc(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(tu)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ps().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&Tc(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Yf();c.length!==0&&(c+=a),Qc(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function an(n,e,t,r=!1,i=!1){return l(this,null,function*(){let s=new ms(n),o;if(i)o=tu;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function vs(n,e,t,r,i){return l(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield an(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>l(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield an(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield an(n,e,t);return r(n,a).catch(c=>l(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield an(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield an(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function Ns(n,e){let t=rr(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Te(s,e??{}))return i;se(i,"already-initialized")}return t.initialize({options:e})}function Xf(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ve);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ms(n,e,t){let r=Je(n);v(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=nu(e),{host:o,port:a}=Qf(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){v(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),v(Te(u,r.config.emulator)&&Te(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Xt(o)?(ja(`${s}//${o}${c}`),$a("Auth",!0)):i||ep()}function nu(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Qf(n){let e=nu(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Ac(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Ac(o)}}}function Ac(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function ep(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var hn=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return me("not implemented")}_getIdTokenResponse(e){return me("not implemented")}_linkToIdToken(e,t){return me("not implemented")}_getReauthenticationResolver(e){return me("not implemented")}};function tp(n,e){return l(this,null,function*(){return Pe(n,"POST","/v1/accounts:signUp",e)})}function np(n,e){return l(this,null,function*(){return gn(n,"POST","/v1/accounts:signInWithPassword",Oe(n,e))})}function rp(n,e){return l(this,null,function*(){return gn(n,"POST","/v1/accounts:signInWithEmailLink",Oe(n,e))})}function ip(n,e){return l(this,null,function*(){return gn(n,"POST","/v1/accounts:signInWithEmailLink",Oe(n,e))})}var fn=class n extends hn{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return l(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vs(e,t,"signInWithPassword",np,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return rp(e,{email:this._email,oobCode:this._password});default:se(e,"internal-error")}})}_linkToIdToken(e,t){return l(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vs(e,r,"signUpPassword",tp,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ip(e,{idToken:t,email:this._email,oobCode:this._password});default:se(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function is(n,e){return l(this,null,function*(){return gn(n,"POST","/v1/accounts:signInWithIdp",Oe(n,e))})}function sp(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function op(n){let e=gt(mt(n)).link,t=e?gt(mt(e)).deep_link_id:null,r=gt(mt(n)).deep_link_id;return(r?gt(mt(r)).link:null)||r||t||e||n}var yr=class n{constructor(e){var t,r,i,s,o,a;let c=gt(mt(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=sp((i=c.mode)!==null&&i!==void 0?i:null);v(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=op(e);try{return new n(t)}catch{return null}}};var ru=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return fn._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=yr.parseLink(r);return v(i,"argument-error"),fn._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Er=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Is=class extends Er{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function ap(n,e){return l(this,null,function*(){return gn(n,"POST","/v1/accounts:signUp",Oe(n,e))})}var Et=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return l(this,null,function*(){let s=yield Ce._fromIdTokenResponse(e,r,i),o=Cc(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Cc(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Cc(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var _s=class n extends Y{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function iu(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_s._fromErrorAndOperation(n,s,e,r):s})}function cp(n,e,t=!1){return l(this,null,function*(){let r=yield ln(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Et._forOperation(n,"link",r)})}function up(n,e,t=!1){return l(this,null,function*(){let{auth:r}=n;if(G(r.app))return Promise.reject(Ie(r));let i="reauthenticate";try{let s=yield ln(n,iu(r,i,e,n),t);v(s.idToken,r,"internal-error");let o=Os(s.idToken);v(o,r,"internal-error");let{sub:a}=o;return v(n.uid===a,r,"user-mismatch"),Et._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&se(r,"user-mismatch"),s}})}function su(n,e,t=!1){return l(this,null,function*(){if(G(n.app))return Promise.reject(Ie(n));let r="signIn",i=yield iu(n,r,e),s=yield Et._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Ls(n,e){return l(this,null,function*(){return su(Je(n),e)})}function ou(n){return l(this,null,function*(){let e=Je(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Us(n,e,t){return l(this,null,function*(){if(G(n.app))return Promise.reject(Ie(n));let r=Je(n),o=yield vs(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ap,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&ou(n),c}),a=yield Et._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function xs(n,e,t){return G(n.app)?Promise.reject(Ie(n)):Ls(Z(n),ru.credential(e,t)).catch(r=>l(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ou(n),r}))}function Ar(n,e,t,r){return Z(n).onIdTokenChanged(e,t,r)}function Fs(n,e,t){return Z(n).beforeAuthStateChanged(e,t)}function mn(n,e,t,r){return Z(n).onAuthStateChanged(e,t,r)}function js(n){return Z(n).signOut()}var wr="__sak";var Tr=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wr,"1"),this.storage.removeItem(wr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var lp=1e3,dp=10,hp=(()=>{class n extends Tr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zc(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Wf()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,dp):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},lp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return l(this,null,function*(){yield De(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return l(this,null,function*(){let r=yield De(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return l(this,null,function*(){yield De(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),au=hp;var fp=(()=>{class n extends Tr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),$s=fp;function pp(n){return Promise.all(n.map(e=>l(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var gp=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return l(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),u=yield pp(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function cu(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var ys=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=cu("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ie(){return window}function mp(n){ie().location.href=n}function uu(){return typeof ie().WorkerGlobalScope<"u"&&typeof ie().importScripts=="function"}function vp(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Ip(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function _p(){return uu()?self:null}var lu="firebaseLocalStorageDb",yp=1,br="firebaseLocalStorage",du="fbase_key",Ye=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Cr(n,e){return n.transaction([br],e?"readwrite":"readonly").objectStore(br)}function Ep(){let n=indexedDB.deleteDatabase(lu);return new Ye(n).toPromise()}function Es(){let n=indexedDB.open(lu,yp);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(br,{keyPath:du})}catch(i){t(i)}}),n.addEventListener("success",()=>l(null,null,function*(){let r=n.result;r.objectStoreNames.contains(br)?e(r):(r.close(),yield Ep(),e(yield Es()))}))})}function kc(n,e,t){return l(this,null,function*(){let r=Cr(n,!0).put({[du]:e,value:t});return new Ye(r).toPromise()})}function wp(n,e){return l(this,null,function*(){let t=Cr(n,!1).get(e),r=yield new Ye(t).toPromise();return r===void 0?null:r.value})}function Oc(n,e){let t=Cr(n,!0).delete(e);return new Ye(t).toPromise()}var Tp=800,bp=3,Sp=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield Es(),this.db)})}_withRetries(t){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>bp)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return uu()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=gp._getInstance(_p()),this.receiver._subscribe("keyChanged",(t,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var t,r;if(this.activeServiceWorker=yield vp(),!this.activeServiceWorker)return;this.sender=new ys(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Ip()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Es();return yield kc(t,wr,"1"),yield Oc(t,wr),!0}catch{}return!1})}_withPendingWrite(t){return l(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>kc(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return l(this,null,function*(){let r=yield this._withRetries(i=>wp(i,t));return this.localCache[t]=r,r})}_remove(t){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Oc(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return l(this,null,function*(){let t=yield this._withRetries(s=>{let o=Cr(s,!1).getAll();return new Ye(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),Tp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),hu=Sp;var S_=eu("rcb"),R_=new Ke(3e4,6e4);function Rp(n,e){return e?ve(e):(v(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var pn=class extends hn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return is(e,this._buildIdpRequest())}_linkToIdToken(e,t){return is(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return is(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Ap(n){return su(n.auth,new pn(n),n.bypassAuthState)}function Cp(n){let{auth:e,user:t}=n;return v(t,e,"internal-error"),up(t,new pn(n),n.bypassAuthState)}function kp(n){return l(this,null,function*(){let{auth:e,user:t}=n;return v(t,e,"internal-error"),cp(t,new pn(n),n.bypassAuthState)})}var ws=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ap;case"linkViaPopup":case"linkViaRedirect":return kp;case"reauthViaPopup":case"reauthViaRedirect":return Cp;default:se(this.auth,"internal-error")}}resolve(e){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var A_=new Ke(2e3,1e4);var Op="pendingRedirect",hr=new Map,Ts=class n extends ws{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=hr.get(this.auth._key());if(!e){try{let r=(yield Pp(this.resolver,this.auth))?yield De(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}hr.set(this.auth._key(),e)}return this.bypassAuthState||hr.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return De(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,De(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function Pp(n,e){return l(this,null,function*(){let t=Mp(e),r=Np(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function Dp(n,e){hr.set(n._key(),e)}function Np(n){return ve(n._redirectPersistence)}function Mp(n){return dr(Op,n.config.apiKey,n.name)}function Lp(n,e,t=!1){return l(this,null,function*(){if(G(n.app))return Promise.reject(Ie(n));let r=Je(n),i=Rp(r,e),o=yield new Ts(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var Up=600*1e3,bs=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xp(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!fu(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ge(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Up&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pc(e))}saveEventToCache(e){this.cachedEventUids.add(Pc(e)),this.lastProcessedEventTime=Date.now()}};function Pc(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fu({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function xp(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fu(n);default:return!1}}function Fp(t){return l(this,arguments,function*(n,e={}){return Pe(n,"GET","/v1/projects",e)})}var jp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$p=/^https?/;function Hp(n){return l(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Fp(n);for(let t of e)try{if(Vp(t))return}catch{}se(n,"unauthorized-domain")})}function Vp(n){let e=os(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!$p.test(t))return!1;if(jp.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Bp=new Ke(3e4,6e4);function Dc(){let n=ie().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function zp(n){return new Promise((e,t)=>{var r,i,s;function o(){Dc(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dc(),t(Ge(n,"network-request-failed"))},timeout:Bp.get()})}if(!((i=(r=ie().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ie().gapi)===null||s===void 0)&&s.load)o();else{let a=eu("iframefcb");return ie()[a]=()=>{gapi.load?o():t(Ge(n,"network-request-failed"))},Qc(`${Jf()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw fr=null,e})}var fr=null;function Wp(n){return fr=fr||zp(n),fr}var qp=new Ke(5e3,15e3),Gp="__/auth/iframe",Kp="emulator/auth/iframe",Yp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zp(n){let e=n.config;v(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Cs(e,Kp):`https://${n.config.authDomain}/${Gp}`,r={apiKey:e.apiKey,appName:n.name,v:vt},i=Jp.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Qt(r).slice(1)}`}function Xp(n){return l(this,null,function*(){let e=yield Wp(n),t=ie().gapi;return v(t,n,"internal-error"),e.open({where:document.body,url:Zp(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yp,dontclear:!0},r=>new Promise((i,s)=>l(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ge(n,"network-request-failed"),a=ie().setTimeout(()=>{s(o)},qp.get());function c(){ie().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var Qp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eg=500,tg=600,ng="_blank",rg="http://localhost",Sr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ig(n,e,t,r=eg,i=tg){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Qp),{width:r.toString(),height:i.toString(),top:s,left:o}),u=D().toLowerCase();t&&(a=qc(u)?ng:t),zc(u)&&(e=e||rg,c.scrollbars="yes");let d=Object.entries(c).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(zf(u)&&a!=="_self")return sg(e||"",a),new Sr(null);let f=window.open(e||"",a,d);v(f,n,"popup-blocked");try{f.focus()}catch{}return new Sr(f)}function sg(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var og="__/auth/handler",ag="emulator/auth/handler",cg=encodeURIComponent("fac");function Nc(n,e,t,r,i,s){return l(this,null,function*(){v(n.config.authDomain,n,"auth-domain-config-required"),v(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vt,eventId:i};if(e instanceof Er){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Ga(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof Is){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${cg}=${encodeURIComponent(c)}`:"";return`${ug(n)}?${Qt(a).slice(1)}${u}`})}function ug({config:n}){return n.emulator?Cs(n,ag):`https://${n.authDomain}/${og}`}var ss="webStorageSupport",Ss=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$s,this._completeRedirectFn=Lp,this._overrideRedirectResult=Dp}_openPopup(e,t,r,i){return l(this,null,function*(){var s;ke((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Nc(e,t,r,os(),i);return ig(e,o,cu())})}_openRedirect(e,t,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield Nc(e,t,r,os(),i);return mp(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ke(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return l(this,null,function*(){let t=yield Xp(e),r=new bs(e);return t.register("authEvent",i=>(v(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ss,{type:ss},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ss];o!==void 0&&t(!!o),se(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Hp(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zc()||Wc()||Ds()}},pu=Ss;var Mc="@firebase/auth",Lc="1.10.8";var Rs=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lg(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dg(n){ge(new B("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;v(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xc(n)},u=new fs(r,i,s,c);return Xf(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ge(new B("auth-internal",e=>{let t=Je(e.getProvider("auth").getImmediate());return(r=>new Rs(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),P(Mc,Lc,lg(n)),P(Mc,Lc,"esm2017")}var hg=300,fg=Ni("authIdTokenMaxAge")||hg,Uc=null,pg=n=>e=>l(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>fg)return;let i=t?.token;Uc!==i&&(Uc=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Hs(n=nn()){let e=rr(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Ns(n,{popupRedirectResolver:pu,persistence:[hu,au,$s]}),r=Ni("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=pg(s.toString());Fs(t,o,()=>o(t.currentUser)),Ar(t,a=>o(a))}}let i=Pi("auth");return i&&Ms(t,`http://${i}`),t}function gg(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Kf({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Ge("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",gg().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dg("Browser");function mu(n){return new ce(function(e){var t=mn(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var vu="auth",Ze=class{constructor(e){return e}},Vs=class{constructor(){return or(vu)}};var Bs=new A("angularfire2.auth-instances");function nm(n,e){let t=Yi(vu,n,e);return t&&new Ze(t)}function rm(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ze(r)}}var im={provide:Vs,deps:[[new Le,Bs]]},sm={provide:Ze,useFactory:nm,deps:[[new Le,Bs],qe]};function _y(n,...e){return P("angularfire",_t.full,"auth"),et([sm,im,{provide:Bs,useFactory:rm(n),multi:!0,deps:[$,le,yt,rn,[new Le,cr],...e]}])}var yy=re(mu,!0);var Iu=re(Us,!0,2);var Ey=re(Hs,!0);var _u=re(mn,!0);var yu=re(xs,!0,2);var Eu=re(js,!0,2);var wu=class n{firebaseAuth=g(Ze);router=g(pt);userSubject=new x(null);user$=this.userSubject.asObservable();constructor(){_u(this.firebaseAuth,e=>{this.userSubject.next(e)})}register(r){return l(this,arguments,function*({email:e,password:t}){try{return yield Iu(this.firebaseAuth,e,t)}catch(i){throw console.error("Register error:",i),this.getErrorMessage(i.code)}})}login(r){return l(this,arguments,function*({email:e,password:t}){try{return yield yu(this.firebaseAuth,e,t)}catch(i){throw console.error("Login error:",i),this.getErrorMessage(i.code)}})}logout(){return l(this,null,function*(){try{yield Eu(this.firebaseAuth),this.router.navigate(["/login"])}catch(e){throw console.error("Logout error",e),e}})}getCurrentUser(){return this.firebaseAuth.currentUser}isAuthenticated(){return this.getCurrentUser()!==null}getErrorMessage(e){switch(e){case"auth/email-already-in-use":return"Este email ya est\xE1 registrado";case"auth/weak-password":return"La contrase\xF1a debe tener al menos 6 caracteres";case"auth/user-not-found":return"Usuario no encontrado";case"auth/wrong-password":return"Contrase\xF1a incorrecta";case"auth/invalid-email":return"Email inv\xE1lido";case"auth/user-disabled":return"Usuario deshabilitado";default:return"Error de autenticaci\xF3n"}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})};export{ju as a,Vo as b,Vn as c,wi as d,Ti as e,pt as f,wd as g,Zv as h,Xt as i,ja as j,Xv as k,$a as l,Ba as m,er as n,qa as o,Qv as p,Y as q,J as r,Te as s,zd as t,Z as u,B as v,b as w,be as x,tc as y,cI as z,ge as A,rr as B,G as C,vt as D,nn as E,P as F,_t as G,Yi as H,or as I,yt as J,re as K,qe as L,rn as M,YI as N,JI as O,cr as P,Ze as Q,Vs as R,_y as S,yy as T,Ey as U,wu as V};
